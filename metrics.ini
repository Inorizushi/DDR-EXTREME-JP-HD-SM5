# DDR MAX2 theme ported to stepmania 5
################################################################################
[Common]
InitialScreen=InitialScreen()
StepsTypesToHide="dance-threepanel,lights-cabinet"

OverlayScreens=GetOverlayScreens()
PercentScoreDecimalPlaces=1

[SongManager]
ExtraStagePlayerModifiers="failimmediate,1.5x,reverse,norecover"
ExtraStageStageModifiers="failimmediate,1.5x,reverse,norecover"
ExtraStageSongModifiers="failimmediate,1.5x,reverse,norecover"
OMESPlayerModifiers="failimmediate,3x,reverse,sudden death"
OMESStageModifiers="failimmediate,3x,reverse,sudden death"
OMESSongModifiers="failimmediate,3x,reverse,sudden death"

[HighScore]
# foon.
EmptyName="DDR"

################################################################################
# this hack is from my Mungyodance 3 theme port -freem

[DifficultyList]
ItemsSpacingY=24
NumShownItems=8

[Sides]
Class="ScreenSplash"
Fallback="ScreenSplash"
HandleBackButton=false
PrevScreen="Sides"
################################################################################
[ScreenSystemLayer]
CreditsP1X=SCREEN_LEFT+161
CreditsP1Y=SCREEN_BOTTOM-18
CreditsP1OnCommand=

CreditsP2X=SCREEN_RIGHT-159
CreditsP2Y=SCREEN_BOTTOM-18
CreditsP2OnCommand=
################################################################################
[ScreenWithMenuElements]
ShowHeader=false
HeaderX=SCREEN_LEFT+263
HeaderY=SCREEN_TOP+21
HeaderOnCommand=draworder,95;addx,526;cropright,1;sleep,0.65;linear,0.4;addx,-526;cropright,0
HeaderOffCommand=sleep,0.05;linear,0.4;addx,526;cropright,1

ShowStyleIcon=false
StyleIconX=SCREEN_RIGHT-144
StyleIconY=SCREEN_TOP+26
StyleIconOnCommand=draworder,95;diffusealpha,0;sleep,1.016;diffusealpha,1
StyleIconOffCommand=diffusealpha,0

TimerX=SCREEN_RIGHT-54
TimerY=SCREEN_TOP+24
TimerOnCommand=draworder,96;shadowlength,0
TimerOffCommand=

ShowFooter=false
FooterX=SCREEN_CENTER_X
FooterY=SCREEN_CENTER_Y
FooterOnCommand=
FooterOffCommand=

ShowHelp=false
HelpX=SCREEN_CENTER_X
HelpY=SCREEN_BOTTOM-33.5
HelpOnCommand=draworder,97;shadowlength,0;diffuseblink;zoom,0.5;zoomy,0;linear,0.5;zoomy,0.5
HelpOffCommand=linear,0.5;zoomy,0

# each screen that uses it places it differently, so don't bother giving
# default metrics to it here
ShowStageDisplay=false

[MenuTimer]
# todo: fix
MaxStallSeconds=8

Text1OnCommand=stopeffect;stoptweening;shadowlength,0;x,-15;
Text1FormatFunction=function(fSeconds) fSeconds=math.min( 99, math.ceil(fSeconds) ); local digit = math.floor(fSeconds/10); return ""..digit end
Text1OffCommand=settext," "
Text2OnCommand=stopeffect;stoptweening;shadowlength,0;x,15;
Text2FormatFunction=function(fSeconds) fSeconds=math.min( 99, math.ceil(fSeconds) ); local digit = math.mod(fSeconds,10); return ""..digit end
Text2OffCommand=settext," "

# xxx: is it 10 or is it 5?
WarningBeepStart=5
WarningStart=6
# warning commands rule, not
Warning6Command=stoptweening;sleep,0.8;linear,0.2;zoomx,0
Warning5Command=stoptweening;zoomx,0;linear,0.2;zoomx,1;sleep,0.6;linear,0.2;zoomx,0
Warning4Command=stoptweening;zoomx,0;linear,0.2;zoomx,1;sleep,0.6;linear,0.2;zoomx,0
Warning3Command=stoptweening;zoomx,0;linear,0.2;zoomx,1;sleep,0.6;linear,0.2;zoomx,0
Warning2Command=stoptweening;zoomx,0;linear,0.2;zoomx,1;sleep,0.6;linear,0.2;zoomx,0
Warning1Command=stoptweening;zoomx,0;linear,0.2;zoomx,1;sleep,0.6;linear,0.2;zoomx,0
Warning0Command=stoptweening;linear,0.2;zoomx,1;cropbottom,1;addy,30;linear,0.2;addy,-30;
################################################################################
[ScreenOptions]
NumRowsShown=9
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y((SCREEN_CENTER_Y-175)+(40*offsetFromCenter)) \
end

PageOnCommand=y,SCREEN_CENTER_Y-25
PageOffCommand=
ContainerOnCommand=y,SCREEN_CENTER_Y-215;addx,-1280;decelerate,0.783;addx,1280
ContainerOffCommand=
OptionRowNormalMetricsGroup="OptionRow"
CursorTweenSeconds=0.15

MoreX=
MoreY=
MoreOnCommand=visible,false

MoreExitSelectedP1Command=
MoreExitSelectedP2Command=
MoreExitUnselectedP1Command=
MoreExitUnselectedP2Command=

ShowExitRow=true
SeparateExitRowY=SCREEN_CENTER_Y+112

ExplanationTogetherX=SCREEN_CENTER_X-9999
ExplanationTogetherY=SCREEN_BOTTOM-64
ExplanationP1X=(SCREEN_CENTER_X*0.575)-9999
ExplanationP1Y=SCREEN_BOTTOM-84
ExplanationP2X=(SCREEN_CENTER_X*1.425)-999
ExplanationP2Y=SCREEN_BOTTOM-84

ExplanationP1OnCommand=zoom,0.55;wrapwidthpixels,494;horizalign,left;cropright,1;linear,0.4;cropright,0;diffuse,PlayerColor(PLAYER_1);strokecolor,Color("Black")
ExplanationP2OnCommand=zoom,0.55;wrapwidthpixels,494;horizalign,left;cropright,1;linear,0.4;cropright,0;diffuse,PlayerColor(PLAYER_2);strokecolor,Color("Black")
ExplanationTogetherOnCommand=zoom,0.5;wrapwidthpixels,1140;horizalign,left;cropright,1;linear,0.4;cropright,0;strokecolor,Color("Black")


[OptionsCursor]
LeftX=
LeftY=
LeftOnCommand=halign,1;
MiddleX=
MiddleY=
MiddleOnCommand=
RightX=
RightY=
RightOnCommand=halign,0;
CanGoLeftX=
CanGoLeftY=
CanGoLeftOnCommand=halign,1;
CanGoRightX=
CanGoRightY=
CanGoRightOnCommand=halign,0;

[OptionsCursorP1]
Fallback="OptionsCursor"
LeftX=0
MiddleX=0
RightX=0
LeftY=-12
MiddleY=-12
RightY=-12

[OptionsCursorP2]
Fallback="OptionsCursor"
LeftX=0
MiddleX=0
RightX=0
LeftY=12
MiddleY=12
RightY=12

[OptionsUnderline]
Fallback="OptionsCursor"

[OptionsUnderlineP1]
Fallback="OptionsUnderline"
LeftX=0
MiddleX=0
RightX=0
LeftY=-15
MiddleY=-15
RightY=-15

[OptionsUnderlineP2]
Fallback="OptionsUnderline"
LeftX=0
MiddleX=0
RightX=0
LeftY=15
MiddleY=15
RightY=15

[OptionRow]
TitleX=SCREEN_CENTER_X-202
TitleY=-1
TitleOnCommand=zoom,0.9;halign,1
TitleGainFocusCommand=diffuse,color("1,1,1,1");
TitleLoseFocusCommand=stopeffect;diffuse,color("0.375,0.5,0,1")

FrameX=SCREEN_CENTER_X-180
FrameY=
FrameGainFocusCommand=diffuse,color("1,1,1,1");
FrameLoseFocusCommand=stopeffect;diffuse,color("0.375,0.5,0,1")

ItemsStartX=SCREEN_CENTER_X-154
ItemsEndX=SCREEN_CENTER_X+320

ItemsGapX=12
ItemsMinBaseZoom=2.5
ItemOnCommand=uppercase,true;shadowlength,0;zoom,0.9
ItemGainFocusCommand=diffuse,color("1,1,1,1");
ItemLoseFocusCommand=stopeffect;diffuse,color("0.375,0.5,0,1")

ItemsLongRowP1X=SCREEN_CENTER_X-60
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X

[OptionRowService]
TitleX=SCREEN_CENTER_X-250
TitleY=-1
TitleOnCommand=halign,0;shadowlength,1;maxwidth,600;zoom,0.8
TitleGainFocusCommand=diffuse,color("1,1,1,1");diffuseshift;effectcolor1,color("0.5,0.5,0.5,1");effectcolor2,color("1,1,1,1");
TitleLoseFocusCommand=stopeffect;diffuse,color("0.334,0.334,0.334,1")

FrameGainFocusCommand=diffuse,color("1,1,1,1")
FrameLoseFocusCommand=diffuse,color("0.5,0.5,0.5,1")

[OptionRowExit]
ItemOnCommand=uppercase,true;zoom,1;
ItemsLongRowSharedX=SCREEN_CENTER_X

[ScreenOptionsEdit]
NumRowsShown=9
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y((SCREEN_CENTER_Y-175)+(40*offsetFromCenter)) \
end

[ScreenOptionsExportPackage]
Fallback="ScreenOptionsEdit"

[ScreenOptionsExportPackageSubPage]
Fallback="ScreenOptionsEdit"

[ScreenOptionsMaster]
# player options

Speed="6"
SpeedDefault="mod,1x,no randomspeed"
Speed,1="mod,1x;name,x1"
Speed,2="mod,1.5x;name,x1.5"
Speed,3="mod,2x;name,x2"
Speed,4="mod,3x;name,x3"
Speed,5="mod,5x;name,x5"
Speed,6="mod,8x;name,x8"

Accel="2"
AccelDefault="mod,no boost,no brake,no wave,no expand,no boomerang"
Accel,1="name,Off"
Accel,2="mod,boost;name,On"
#Accel,3="mod,brake;name,Brake"
#Accel,4="mod,wave;name,Wave"
#Accel,5="mod,expand;name,Expand"
#Accel,6="mod,boomerang;name,Boomerang"

Appearance="4"
AppearanceDefault="mod,no hidden,no sudden,no stealth,no blink,no randomvanish"
Appearance,1="name,Visible"
Appearance,2="mod,hidden;name,Hidden"
Appearance,3="mod,sudden;name,Sudden"
Appearance,4="mod,stealth;name,Stealth"
#Appearance,5="mod,blink;name,Blink"

Turn="5"
TurnDefault="mod,no turn"
Turn,1="name,Off"
Turn,2="mod,mirror;name,Mirror"
Turn,3="mod,left;name,Left"
Turn,4="mod,right;name,Right"
Turn,5="mod,shuffle;name,Shuffle"
#Turn,6="mod,supershuffle;name,SuperShuffle"

Scroll="2"
ScrollDefault="mod,no reverse,no split,no alternate,no cross"
Scroll,1="name,Standard"
Scroll,2="mod,reverse;name,Reverse"
#Scroll,3="mod,split;name,Split"
#Scroll,4="mod,alternate;name,Alternate"
#Scroll,5="mod,cross;name,Cross"

Freeze="2"
FreezeDefault="mod,no noholds,no planted,no twister,no nojumps,no nohands"
Freeze,1="mod,noholds;name,Off"
Freeze,2="name,On"

Little="2"
LittleDefault="mod,no little"
Little,1="name,Off"
Little,2="mod,little;name,On"

Dark="2"
DarkDefault="mod,no dark"
Dark,1="name,Off"
Dark,2="mod,dark;name,On"

Judge="2"
JudgeDefault="mod,no blind"
Judge,1="mod,blind;name,Off"
Judge,2="name,On"

Persp="5"
PerspDefault="mod,overhead"
Persp,1="mod,incoming;name,Incoming"
Persp,2="mod,overhead;name,Overhead"
Persp,3="mod,space;name,Space"
Persp,4="mod,hallway;name,Hallway"
Persp,5="mod,distant;name,Distant"

Foon="5"
FoonDefault="mod,no dizzy,no flip,no mini,no bumpy"
Foon,1="name,Off"
Foon,2="mod,dizzy;name,Dizzy"
Foon,3="mod,mini;name,Mini"
Foon,4="mod,flip;name,Flip"
Foon,5="mod,bumpy;name,Bumpy"

Asso="4"
AssoDefault="mod,no drunk,no tipsy,no beat"
Asso,1="name,Off"
Asso,2="mod,drunk;name,Drunk"
Asso,3="mod,tipsy;name,Tipsy"
Asso,4="mod,beat;name,Beat"

YAMAZAKI="2"
YAMAZAKIDefault="mod,no tornado"
YAMAZAKI,1="name,Off"
YAMAZAKI,2="mod,Tornado;name,On"
################################################################################
[ScreenCaution]
Class="ScreenSplash"
Fallback="ScreenSplash"
NextScreen="ScreenSelectStyle"
PrevScreen=Branch.TitleMenu()
AllowStartToSkip=true

TimerMetricsGroup="MenuTimerNoSound"
ForceTimer=true
TimerStealth=true
TimerSeconds=3.5
################################################################################
[ScreenWarning]
Fallback="ScreenInit"
NextScreen="ScreenCompany"
PrevScreen="ScreenTitleMenu"
TimerSeconds=5
ForceTimer=true
TimerStealth=true
################################################################################
[ScreenCompany]
Fallback="ScreenAttract"
NextScreen="ScreenLogo"
PrevScreen="ScreenLogo"
TimerSeconds=17.9
ForceTimer=true
TimerStealth=true
PlayMusic=true

[ScreenLogo]
Fallback="ScreenAttract"
NextScreen="ScreenHowToPlay"
PrevScreen="ScreenCompany"
TimerSeconds=8
ForceTimer=true
TimerStealth=true
################################################################################
[ScreenHowToPlay]
TimerSeconds=25
NextScreen="ScreenDemonstration"
PrevScreen="ScreenLogo"
NumMisses=2
NumPerfects=2
SongBPM=100

LifeMeterBarX=SCREEN_CENTER_X+176
LifeMeterBarY=SCREEN_TOP+26
LifeMeterBarOnCommand=draworder,10;zoomx,-1

PlayerX=SCREEN_CENTER_X+176

UseCharacter=true
# XXX: not always Princess Zukin, just mostly.
CharacterName="5th Alice"
CharacterX=SCREEN_CENTER_X+176
CharacterY=-SCREEN_CENTER_Y+60
CharacterOnCommand=valign,1;diffusealpha,1;zoom,20

UsePad=false
PadX=SCREEN_CENTER_X-280
PadY=SCREEN_CENTER_Y+70
PadOnCommand=Zoom,15;RotationY,180;sleep,4.65;linear,1.0;RotationY,360;Zoom,20;X,230;Y,390
################################################################################
[ScreenDemonstration]
NextScreen="ScreenRanking"
PrevScreen="ScreenHowToPlay"

ShowStageDisplay=false
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false
ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP2OnCommand=visible,false
LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false
PlayMusic=true
#
SecondsToShow=30
ShowStageFrame=false
ShowStageDisplay=false

ShowHeader=false
HeaderX=SCREEN_CENTER_X
HeaderY=SCREEN_TOP+29
HeaderOnCommand=draworder,1;zoomx,SCREEN_WIDTH/640;addy,-58;sleep,0.5;linear,0.147;addy,58
HeaderOffCommand=sleep,0.012;linear,0.098;addy,-58

ShowFooter=false
FooterX=SCREEN_CENTER_X
FooterY=SCREEN_BOTTOM-29
FooterOnCommand=draworder,1;zoomx,SCREEN_WIDTH/640;addy,58;sleep,0.5;linear,0.147;addy,-58
FooterOffCommand=sleep,0.012;linear,0.098;addy,58
################################################################################
# hey check out how much extra crap you have to do in SM5 for this screen!
[ScreenRanking]
Class="ScreenRanking"
Fallback="ScreenAttract"
NextScreen="ScreenMemoryCard"
PrevScreen="ScreenDemonstration"
PlayMusic=true

TimerSeconds=80
ForceTimer=true
TimerStealth=true

NoScoreName="DDR"
StepsTypesToHide="dance-couple,dance-solo,dance-threepanel,dance-routine,pump-halfdouble,pump-couple"
CoursesToShow="Courses/nonstop/POP 4.crs,Courses/oni/NAOKI NEO-STANDARD.crs,Courses/oni/DANCEMANIA -ONI-.crs"

SecondsPerPage=6

StepsTypeColor1=color("0.6,0.6,1,1")
StepsTypeColor2=color("1,0.3,0.3,1")
StepsTypeColor3=color("0.3,1,0.3,1")
StepsTypeColor4=color("1.0,1,1.0,1")
StepsTypeColor5=color("1.0,1,1.0,1")

CategoryOnCommand=visible,false
CategoryNextPageCommand=
CategorySwitchedPageCommand=
CategoryOffCommand=

StepsTypeOnCommand=visible,false
StepsTypeNextPageCommand=
StepsTypeSwitchedPageCommand=
StepsTypeOffCommand=

BulletStartX=SCREEN_CENTER_X-190
BulletStartY=SCREEN_CENTER_Y-98
Bullet1OnCommand=
Bullet2OnCommand=
Bullet3OnCommand=
Bullet4OnCommand=
Bullet5OnCommand=
#--#
Bullet1OffCommand=sleep,0.2;linear,0.5;diffusealpha,0
Bullet2OffCommand=sleep,0.3;linear,0.5;diffusealpha,0
Bullet3OffCommand=sleep,0.4;linear,0.5;diffusealpha,0
Bullet4OffCommand=sleep,0.5;linear,0.5;diffusealpha,0
Bullet5OffCommand=sleep,0.6;linear,0.5;diffusealpha,0

Bullet1NextPageCommand=diffusealpha,1;addx,604;zoom,0.1;sleep,1.450;linear,0.483;addx,-604;zoom,1
Bullet2NextPageCommand=diffusealpha,1;addx,604;zoom,0.1;sleep,1.150;linear,0.483;addx,-604;zoom,1
Bullet3NextPageCommand=diffusealpha,1;addx,604;zoom,0.1;sleep,0.850;linear,0.483;addx,-604;zoom,1
Bullet4NextPageCommand=diffusealpha,1;addx,604;zoom,0.1;sleep,0.550;linear,0.483;addx,-604;zoom,1
Bullet5NextPageCommand=diffusealpha,1;addx,604;zoom,0.1;sleep,0.250;linear,0.483;addx,-604;zoom,1
#--#
Bullet1SwitchedPageCommand=sleep,0.2;linear,0.5;diffusealpha,0
Bullet2SwitchedPageCommand=sleep,0.3;linear,0.5;diffusealpha,0
Bullet3SwitchedPageCommand=sleep,0.4;linear,0.5;diffusealpha,0
Bullet4SwitchedPageCommand=sleep,0.5;linear,0.5;diffusealpha,0
Bullet5SwitchedPageCommand=sleep,0.6;linear,0.5;diffusealpha,0

NameStartX=SCREEN_CENTER_X-150
NameStartY=SCREEN_CENTER_Y-98
Name1OnCommand=halign,0
Name2OnCommand=halign,0
Name3OnCommand=halign,0
Name4OnCommand=halign,0
Name5OnCommand=halign,0
#--#
Name1OffCommand=sleep,0.2;linear,0.5;diffusealpha,0
Name2OffCommand=sleep,0.3;linear,0.5;diffusealpha,0
Name3OffCommand=sleep,0.4;linear,0.5;diffusealpha,0
Name4OffCommand=sleep,0.5;linear,0.5;diffusealpha,0
Name5OffCommand=sleep,0.6;linear,0.5;diffusealpha,0

Name1NextPageCommand=diffusealpha,1;cropleft,1;sleep,1.883;linear,0.05;cropleft,0
Name2NextPageCommand=diffusealpha,1;cropleft,1;sleep,1.583;linear,0.05;cropleft,0
Name3NextPageCommand=diffusealpha,1;cropleft,1;sleep,1.283;linear,0.05;cropleft,0
Name4NextPageCommand=diffusealpha,1;cropleft,1;sleep,0.983;linear,0.05;cropleft,0
Name5NextPageCommand=diffusealpha,1;cropleft,1;sleep,0.683;linear,0.05;cropleft,0
#--#
Name1SwitchedPageCommand=sleep,0.2;linear,0.5;diffusealpha,0
Name2SwitchedPageCommand=sleep,0.3;linear,0.5;diffusealpha,0
Name3SwitchedPageCommand=sleep,0.4;linear,0.5;diffusealpha,0
Name4SwitchedPageCommand=sleep,0.5;linear,0.5;diffusealpha,0
Name5SwitchedPageCommand=sleep,0.6;linear,0.5;diffusealpha,0

#
ScoreStartX=SCREEN_CENTER_X+196
ScoreStartY=SCREEN_CENTER_Y-98

Score1OnCommand=halign,1
Score2OnCommand=halign,1
Score3OnCommand=halign,1
Score4OnCommand=halign,1
Score5OnCommand=halign,1
#--#
Score1OffCommand=sleep,0.2;linear,0.5;diffusealpha,0
Score2OffCommand=sleep,0.3;linear,0.5;diffusealpha,0
Score3OffCommand=sleep,0.4;linear,0.5;diffusealpha,0
Score4OffCommand=sleep,0.5;linear,0.5;diffusealpha,0
Score5OffCommand=sleep,0.6;linear,0.5;diffusealpha,0

Score1NextPageCommand=diffusealpha,1;cropleft,1;zoomy,0.5;sleep,1.6;linear,0.2;cropleft,0;zoomy,1
Score2NextPageCommand=diffusealpha,1;cropleft,1;zoomy,0.5;sleep,1.3;linear,0.2;cropleft,0;zoomy,1
Score3NextPageCommand=diffusealpha,1;cropleft,1;zoomy,0.5;sleep,1.0;linear,0.2;cropleft,0;zoomy,1
Score4NextPageCommand=diffusealpha,1;cropleft,1;zoomy,0.5;sleep,0.7;linear,0.2;cropleft,0;zoomy,1
Score5NextPageCommand=diffusealpha,1;cropleft,1;zoomy,0.5;sleep,0.4;linear,0.2;cropleft,0;zoomy,1
#--#
Score1SwitchedPageCommand=sleep,0.2;linear,0.5;diffusealpha,0
Score2SwitchedPageCommand=sleep,0.3;linear,0.5;diffusealpha,0
Score3SwitchedPageCommand=sleep,0.4;linear,0.5;diffusealpha,0
Score4SwitchedPageCommand=sleep,0.5;linear,0.5;diffusealpha,0
Score5SwitchedPageCommand=sleep,0.6;linear,0.5;diffusealpha,0
################################################################################
[ScreenMemoryCard]
Fallback="ScreenAttract"
NextScreen="ScreenWarning"
PrevScreen="ScreenRanking"
TimerSeconds=12
ForceTimer=true
TimerStealth=true
[ScreenTitleMenu]
PrevScreen="ScreenWarning"
NextScreen="ScreenWarning"

ChoiceNames="GameStart,HOW,Edit,Options,Jukebox,Credits,Info,Exit,"
ChoiceGameStart="applydefaultoptions;text,GAME MODE;screen,"..Branch.StartGame()
ChoiceEdit="text,EDIT;screen,"..Branch.OptionsEdit()
#ChoiceEditc="text,EDIT COURSES;screen,"..Branch.OptionsEdit()
ChoiceOptions="screen,ScreenOptionsService;text,OPTIONS"
ChoiceJukebox="screen,ScreenJukeboxMenu;text,DDREXTREME JUKEBOX"
ChoiceExit="screen,ScreenExit;text,EXIT"
ChoiceHOW="screen,ScreenHowToPlay;text,HOW TO PLAY"
ChoiceCredits="screen,ScreenCredits;text,CREDITS"
ChoiceInfo="screen,ScreenInformation;text,Information;"

ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y
ScrollerOnCommand=zoom,1
ScrollerOffCommand=

ScrollerSecondsPerItem=0
ScrollerNumItemsToDraw=20
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(30*(itemIndex-(numItems-1)/2)); end

SongsX=SCREEN_CENTER_X-300
SongsY=SCREEN_TOP+20
SongsOnCommand=halign,0;diffuse,color("0.5,0.5,0.5,1");zoom,1;shadowlength,0

VersionX=SCREEN_CENTER_X-300
VersionY=SCREEN_TOP+40
VersionOnCommand=halign,0;diffuse,color("0.5,0.5,0.5,1");zoom,1;shadowlength,1

WarningX=SCREEN_CENTER_X+300
WarningY=SCREEN_TOP+20
WarningOnCommand=x,SCREEN_CENTER_X;y,SCREEN_BOTTOM-84;draworder,97

ShowHelp=false
HelpX=SCREEN_CENTER_X
HelpY=SCREEN_BOTTOM-40
HelpOnCommand=draworder,97;shadowlength,1.5;diffuseblink;zoom,0.5;zoomy,0;linear,0.5;zoomy,0.5

[ScreenTitleJoin]
# coin message
CoinMessageX=SCREEN_CENTER_X
CoinMessageY=SCREEN_CENTER_Y+175
CoinMessageOnCommand=diffuseshift;effectcolor1,color("0.5,0.5,0.5,1");effectcolor2,color("1,1,1,1");effectperiod,0.3
CoinMessageOffCommand=

# premium message
PremiumX=SCREEN_CENTER_X
PremiumY=SCREEN_CENTER_Y+95
PremiumOnCommand=
PremiumOffCommand=

FreeplayX=SCREEN_CENTER_X
FreeplayY=SCREEN_CENTER_Y
FreeplayOnCommand=diffuseshift;effectcolor1,color("0.5,0.5,0.5,1");effectcolor2,color("1,1,1,1");effectperiod,1.5

# things from ScreenTitleMenu
ScrollerOnCommand=visible,false
SongsOnCommand=visible,false
VersionOnCommand=visible,false
WarningOnCommand=visible,false

################################################################################

[ScreenSelectStyle]
ShowHeader=true
ShowFooter=true
ShowHelp=false
WaitForChildrenBeforeTweeningOut=true

# Choice list:
# Arcade	Single, Versus, Double
# Home		Single, Versus, Double, Couple, Solo
ChoiceNames=StyleChoices()
DefaultChoice="1"

Choice1="style,single;name,Single;screen,"..Branch.AfterSelectStyle()
Choice2="style,versus;name,Versus;screen,"..Branch.AfterSelectStyle()
Choice3="style,double;name,Double;screen,"..Branch.AfterSelectStyle()
#Choice4="style,couple;name,Couple;screen,"..Branch.AfterSelectStyle()
#Choice5="style,solo;name,Solo;screen,"..Branch.AfterSelectStyle()

ShowScroller=true
PerChoiceScrollElement=true
ScrollerX=0
ScrollerY=0
ScrollerOnCommand=

ShowIcon=true
PerChoiceIconElement=true
UseIconMetrics=true

IconChoiceSingleX=
IconChoiceSingleY=
IconChoiceSingleOnCommand=
IconChoiceVersusX=
IconChoiceVersusY=
IconChoiceVersusOnCommand=
IconChoiceDoubleX=
IconChoiceDoubleY=
IconChoiceDoubleOnCommand=
IconChoiceCoupleX=
IconChoiceCoupleY=
IconChoiceCoupleOnCommand=
IconChoiceSoloX=
IconChoiceSoloY=
IconChoiceSoloOnCommand=

# xxx: looks awkward in home mode
ExplanationX=SCREEN_LEFT+164
ExplanationY=SCREEN_CENTER_Y-183
ExplanationOnCommand=draworder,99;cropright,1;sleep,0.66;linear,0.198;cropright,0;decelerate,0.099;
ExplanationOffCommand=cropright,0;sleep,0.264;sleep,0.198;linear,0.198;cropright,1;

WarningX=SCREEN_CENTER_X+156
WarningY=SCREEN_CENTER_Y+94
WarningOnCommand=draworder,0;vertalign,top;croptop,1;sleep,0.264;addy,-90;sleep,0.183;croptop,0;decelerate,0.166;addy,90;linear,0.033;zoomy,0.953;addy,-1;sleep,0.016;linear,0.066;zoomy,1.031;addy,2;sleep,0.016;linear,0.033;zoomy,1;addy,-1;sleep,0.279;diffuseshift;effectcolor1,1,1,1,1;effectcolor2,0.4,0.4,0.4,1;effectperiod,0.25
WarningOffCommand=stopeffect;sleep,0;accelerate,0.2;addy,-80;linear,0;diffusealpha,0
WarningPlayerJoinedMessageCommand=playcommand,"Off"

################################################################################
[ScreenSelectDifficulty]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen=Branch.TitleMenu()
ShowHeader=true
ShowFooter=true
ShowStyleIcon=true
ShowHelp=false
WaitForChildrenBeforeTweeningOut=true
SharedSelection=false
TimerSeconds=20
ExplanationX=SCREEN_LEFT+136
ExplanationY=SCREEN_CENTER_Y-183
ExplanationOnCommand=draworder,99;cropright,1;sleep,0.66;linear,0.198;cropright,0;decelerate,0.099;
ExplanationOffCommand=cropright,0;sleep,0.264;sleep,0.198;linear,0.198;cropright,1;

PreSwitchPageSeconds=0.15
PostSwitchPageSeconds=0.15
NumChoicesOnPage1=3

# Choice list:
# Arcade	Beginner, Easy, Medium, Hard, Nonstop, Oni
# Home		Beginner, Easy, Medium, Hard, Nonstop, Oni, Endless, Rave
ChoiceNames=DifficultyChoices()
DefaultChoice="1"

# xxx: instruction screens
#Choice1="name,BEGINNER;playmode,regular;difficulty,beginner;screen,"..Branch.InstructionsNormal()
#Choice2="name,Easy;playmode,regular;difficulty,easy;screen,"..Branch.InstructionsNormal()
#Choice3="name,Medium;playmode,regular;difficulty,medium;screen,ScreenSelectMusic"
#Choice4="name,Hard;playmode,regular;difficulty,hard;screen,ScreenSelectMusic"
#Choice5="name,Oni;playmode,oni;screen,"..Branch.InstructionsCourse()

Choice1="name,Easy;playmode,regular;difficulty,easy;screen,"..Branch.InstructionsNormal()
Choice2="name,Medium;playmode,regular;difficulty,medium;screen,ScreenSelectMusic"
Choice3="name,Hard;playmode,regular;difficulty,hard;screen,ScreenSelectMusic"
Choice4="name,Oni;playmode,oni;screen,"..Branch.InstructionsCourse()

ShowCursor=true
CursorP1OffsetXFromIcon=
CursorP1OffsetYFromIcon=
CursorP1OnCommand=draworder,50
CursorP1ChangeCommand=
CursorP1SwitchToPage1Command=linear,0.165
CursorP1SwitchToPage2Command=linear,0.165

CursorP2OffsetXFromIcon=
CursorP2OffsetYFromIcon=
CursorP2OnCommand=draworder,50
CursorP2ChangeCommand=linear,0.165
CursorP2SwitchToPage1Command=linear,0.165
CursorP2SwitchToPage2Command=linear,0.165

ShowIcon=true
PerChoiceIconElement=true
UseIconMetrics=true
ShowScroller=true

ScrollerP1X=
ScrollerP1Y=
ScrollerP2X=
ScrollerP2Y=

# xxx: all positions need fixing

#- page 1 -#
IconChoiceBEGINNERX=SCREEN_CENTER_X-228
IconChoiceBEGINNERY=SCREEN_BOTTOM-86
IconChoiceBEGINNEROnCommand=draworder,50;
#IconChoiceBEGINNEROffCommand=DifficultyItemOff(0)
IconChoiceBEGINNERSwitchToPage1Command=
IconChoiceBEGINNERSwitchToPage2Command=
#--#
IconChoiceEasyX=SCREEN_CENTER_X-76
IconChoiceEasyY=SCREEN_BOTTOM-86
IconChoiceEasyOnCommand=draworder,99;
#IconChoiceEasyOffCommand=DifficultyItemOff(0)
IconChoiceEasySwitchToPage1Command=visible,true
IconChoiceEasySwitchToPage2Command=visible,false
#--#
IconChoiceMediumX=SCREEN_CENTER_X+76
IconChoiceMediumY=SCREEN_BOTTOM-86
IconChoiceMediumOnCommand=
#IconChoiceMediumOffCommand=DifficultyItemOff(0)
IconChoiceMediumSwitchToPage1Command=
IconChoiceMediumSwitchToPage2Command=
#--#
IconChoiceHardX=SCREEN_CENTER_X+228
IconChoiceHardY=SCREEN_BOTTOM-86
IconChoiceHardOnCommand=
#IconChoiceHardOffCommand=DifficultyItemOff(0)
IconChoiceHardSwitchToPage1Command=
IconChoiceHardSwitchToPage2Command=
#- page 2-#
IconChoiceOniX=SCREEN_CENTER_X+76
IconChoiceOniY=SCREEN_BOTTOM-86
IconChoiceOniOnCommand=draworder,99;visible,false
#IconChoiceOniOffCommand=DifficultyItemOff(0)
IconChoiceOniSwitchToPage1Command=visible,false
IconChoiceOniSwitchToPage2Command=visible,true
#IconChoiceOniSwitchToPage1Command=linear,0.3;addx,SCREEN_WIDTH*1.25
#IconChoiceOniSwitchToPage2Command=linear,0.3;addx,-SCREEN_WIDTH*1.25
#--#
MorePage1X=SCREEN_CENTER_X+237
MorePage1Y=SCREEN_CENTER_Y+114
MorePage1OnCommand=draworder,1;addy,32;cropbottom,1;sleep,0.264;sleep,0.561;linear,0.462;cropbottom,0;addy,-32
MorePage1OffCommand=cropbottom,0;sleep,0;linear,0.462;cropbottom,1;addy,32;linear,0;diffusealpha,0
MorePage1SwitchToPage1Command=sleep,0.233;linear,0.233;addx,-160
MorePage1SwitchToPage2Command=linear,0.233;addx,160

MorePage2X=SCREEN_LEFT-78
MorePage2Y=SCREEN_CENTER_Y+114
MorePage2OnCommand=visible,false
MorePage2OffCommand=cropbottom,0;sleep,0;linear,0.462;cropbottom,1;addy,32;linear,0;diffusealpha,0
MorePage2SwitchToPage1Command=linear,0.233;addx,-160
MorePage2SwitchToPage2Command=sleep,0.233;linear,0.233;addx,160;visible,true
################################################################################
[ScreenInstructions]
Fallback="ScreenSplash"
NextScreen=Branch.AfterInstructions()
PrevScreen=Branch.TitleMenu()
WaitForChildrenBeforeTweeningOut=true
AllowStartToSkip=true
TimerSeconds=99
ForceTimer=false
ShowStyleIcon=true
ShowHeader=true
ShowFooter=false
ShowHelp=true

################################################################################
[ScreenSelectMusic]
ShowHeader=true
ShowFooter=true
ShowStyleIcon=true
ShowHelp=false
TimerSeconds=90

SampleMusicPreviewMode='SampleMusicPreviewMode_LastSong'

NullScoreString="---------"

MusicWheelX=SCREEN_RIGHT-168
MusicWheelY=SCREEN_CENTER_Y+13
MusicWheelOnCommand=draworder,-5;SetDrawByZPosition,true;fov,90;vanishpoint,SCREEN_CENTER_X+400,SCREEN_CENTER_Y-15;addx,SCREEN_WIDTH/640*328;sleep,0.412;linear,0.196;addx,-(SCREEN_WIDTH/640*328)
MusicWheelOffCommand=sleep,0.020;linear,0.255;addx,SCREEN_WIDTH/640*328

# player mod icons
ShowModIcons=true
ModIconsP1X=SCREEN_CENTER_X-302
ModIconsP1Y=SCREEN_CENTER_Y-191
ModIconsP1OnCommand=draworder,97;addx,-640;sleep,0.366;decelerate,0.759;addx,640
ModIconsP1OffCommand=accelerate,0.825;addx,-640
ModIconsP2X=SCREEN_CENTER_X-302
ModIconsP2Y=SCREEN_CENTER_Y-177
ModIconsP2OnCommand=draworder,97;addx,-640;sleep,0.366;decelerate,0.759;addx,640
ModIconsP2OffCommand=accelerate,0.825;addx,-640

BannerFrameX=SCREEN_CENTER_X-174
BannerFrameY=SCREEN_CENTER_Y-88
BannerFrameOnCommand=draworder,81;addx,-280;sleep,0.450;linear,0.267;addx,274;linear,0.05;addx,-6;decelerate,0.116;addx,12;decelerate,0.067;addx,-4;decelerate,0.1;addx,4
BannerFrameOffCommand=accelerate,0.316;addx,-280

BannerX=SCREEN_CENTER_X-174
BannerY=SCREEN_CENTER_Y-66
BannerOnCommand=draworder,80;scaletoclipped,256,80;addx,-280;sleep,0.450;linear,0.267;addx,274;linear,0.05;addx,-6;decelerate,0.116;addx,12;decelerate,0.067;addx,-4;decelerate,0.1;addx,4
BannerOffCommand=accelerate,0.316;addx,-280

CDTitleX=SCREEN_CENTER_X-84
CDTitleY=SCREEN_CENTER_Y-83
CDTitleOnCommand=draworder,82;addx,-280;sleep,0.450;linear,0.267;addx,274;linear,0.05;addx,-6;decelerate,0.116;addx,12;decelerate,0.067;addx,-4;decelerate,0.1;addx,4
CDTitleOffCommand=accelerate,0.316;addx,-280
CDTitleFrontCommand=spin;effectmagnitude,0,180,0;cullmode,'CullMode_Back'
CDTitleBackCommand=spin;effectmagnitude,0,180,0;cullmode,'CullMode_Front';diffuse,color("#333333")
CDTitleSpinSeconds=2.16

ShowStageDisplay=true
StageDisplayX=SCREEN_CENTER_X-170
StageDisplayY=SCREEN_CENTER_Y-138
StageDisplayOnCommand=draworder,82;addx,-280;sleep,0.450;linear,0.267;addx,274;linear,0.05;addx,-6;decelerate,0.116;addx,12;decelerate,0.067;addx,-4;decelerate,0.1;addx,4
StageDisplayOffCommand=accelerate,0.316;addx,-280

ShowBPMDisplay=true
BPMDisplayX=SCREEN_CENTER_X-160
BPMDisplayY=SCREEN_CENTER_Y-118
BPMDisplayOnCommand=draworder,99;addx,-280;sleep,0.450;linear,0.267;addx,274;linear,0.05;addx,-6;decelerate,0.116;addx,12;decelerate,0.067;addx,-4;decelerate,0.1;addx,4
BPMDisplayOffCommand=sleep,0.016;accelerate,0.33;addx,-400

ShowSortDisplay=true
SortDisplayX=SCREEN_CENTER_X-86
SortDisplayY=SCREEN_CENTER_Y-123
SortDisplayOnCommand=draworder,99;addx,-280;sleep,0.450;linear,0.267;addx,274;linear,0.05;addx,-6;decelerate,0.116;addx,12;decelerate,0.067;addx,-4;decelerate,0.1;addx,4
SortDisplayOffCommand=accelerate,0.316;addx,-280

ShowAvailableDifficulties=false
AvailableDifficultiesX=SCREEN_CENTER_X-44
AvailableDifficultiesY=SCREEN_CENTER_Y-119
AvailableDifficultiesOnCommand=zoom,0.45;draworder,81;addx,-SCREEN_WIDTH*0.625;bounceend,0.5;addx,SCREEN_WIDTH*0.625
AvailableDifficultiesOffCommand=bouncebegin,0.5;addx,-SCREEN_WIDTH*0.625

ShowDifficultyIcons=true
DifficultyFrameP1X=SCREEN_CENTER_X-263
DifficultyFrameP1Y=SCREEN_CENTER_Y+15
DifficultyFrameP1OnCommand=addy,40;cropbottom,1;sleep,0.717;decelerate,0.183;addy,-40;cropbottom,0
DifficultyFrameP1OffCommand=sleep,0.2;accelerate,0.183;addy,40;cropbottom,1
DifficultyFrameP2X=SCREEN_CENTER_X-73
DifficultyFrameP2Y=SCREEN_CENTER_Y+15
DifficultyFrameP2OnCommand=addy,40;cropbottom,1;sleep,0.717;decelerate,0.183;addy,-40;cropbottom,0
DifficultyFrameP2OffCommand=sleep,0.2;accelerate,0.183;addy,40;cropbottom,1

DifficultyIconP1X=SCREEN_CENTER_X-278
DifficultyIconP1Y=SCREEN_CENTER_Y+15
DifficultyIconP1OnCommand=addy,40;cropbottom,1;sleep,0.717;decelerate,0.183;addy,-40;cropbottom,0
DifficultyIconP1OffCommand=cropbottom,0;sleep,0.2;accelerate,0.183;addy,40;cropbottom,1
DifficultyIconP2X=SCREEN_CENTER_X-58
DifficultyIconP2Y=SCREEN_CENTER_Y+15
DifficultyIconP2OnCommand=addy,40;cropbottom,1;sleep,0.717;decelerate,0.183;addy,-40;cropbottom,0
DifficultyIconP2OffCommand=cropbottom,0;sleep,0.2;accelerate,0.183;addy,40;cropbottom,1

ShowGrooveRadar=true
GrooveRadarX=SCREEN_CENTER_X-168
GrooveRadarY=SCREEN_CENTER_Y+92
GrooveRadarOnCommand=draworder,2;zoom,0;sleep,0.366;zoom,0.07;accelerate,0.4;rotationz,360;zoom,1
GrooveRadarOffCommand=sleep,0.4;decelerate,0.4;rotationz,-360;zoom,0.07;linear,0;zoom,0

# this part is done in Lua now...
ShowSongOptions=true
SongOptionsX=SCREEN_CENTER_X-160
SongOptionsY=SCREEN_CENTER_Y+94
SongOptionsOnCommand=zoom,0.5;shadowlength,2;diffusealpha,0;linear,0.5;diffusealpha,1
SongOptionsOffCommand=linear,0.5;diffusealpha,0

MeterFrameP1X=SCREEN_CENTER_X-235
MeterFrameP1Y=SCREEN_CENTER_Y+175
MeterFrameP1OnCommand=cropbottom,1;sleep,0.533;linear,0.184;cropbottom,0
MeterFrameP1OffCommand=sleep,0.183;linear,0.2;cropbottom,1
MeterFrameP2X=SCREEN_CENTER_X-101
MeterFrameP2Y=SCREEN_CENTER_Y+175
MeterFrameP2OnCommand=cropbottom,1;sleep,0.533;linear,0.184;cropbottom,0
MeterFrameP2OffCommand=sleep,0.183;linear,0.2;cropbottom,1

ShowStepsDisplay=true
StepsDisplayP1X=SCREEN_CENTER_X-234
StepsDisplayP1Y=SCREEN_CENTER_Y+175
StepsDisplayP1OnCommand=shadowlength,0;vertalign,top;zoomy,0;sleep,0.733;linear,0.083;zoomy,1
StepsDisplayP1OffCommand=
StepsDisplayP2X=SCREEN_CENTER_X-100
StepsDisplayP2Y=SCREEN_CENTER_Y+75
StepsDisplayP2OnCommand=
StepsDisplayP2OffCommand=

ScoreFrameP1X=SCREEN_RIGHT-170
ScoreFrameP1Y=SCREEN_CENTER_Y+12
ScoreFrameP1OnCommand=addx,380;cropbottom,0.27;sleep,0.366;sleep,0.6;decelerate,0.2;addx,-380
ScoreFrameP1OffCommand=accelerate,0.2;addx,380
ScoreFrameP2X=SCREEN_RIGHT-170
ScoreFrameP2Y=SCREEN_CENTER_Y+12
ScoreFrameP2OnCommand=addx,380;croptop,0.27;sleep,0.366;sleep,0.6;decelerate,0.2;addx,-380
ScoreFrameP2OffCommand=accelerate,0.2;addx,380

ScoreP1X=SCREEN_RIGHT-103
ScoreP1Y=SCREEN_CENTER_Y-19
ScoreP1OnCommand=zoomx,0.8;diffuse,PlayerColor(PLAYER_1);addx,380;sleep,0.366;sleep,0.6;decelerate,0.2;addx,-380
ScoreP1OffCommand=accelerate,0.2;addx,380
ScoreP2X=SCREEN_RIGHT-103
ScoreP2Y=SCREEN_CENTER_Y+45
ScoreP2OnCommand=zoomx,0.8;diffuse,PlayerColor(PLAYER_2);addx,SCREEN_WIDTH*0.625;bounceend,0.5;addx,-SCREEN_WIDTH*0.625
ScoreP2OffCommand=bouncebegin,0.5;addx,SCREEN_WIDTH*0.625

OptionsMessageX=SCREEN_CENTER_X
OptionsMessageY=SCREEN_CENTER_Y
OptionsMessageOnCommand=visible,false
OptionsMessageOffCommand=

[MusicWheel]
ShowRandom=true
ShowRoulette=true
ShowPortal=false

LockedInitialVelocity=7

NumWheelItems=11
ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:x( (1-math.cos(offsetFromCenter/math.pi))*80 ); \
	self:y( offsetFromCenter*40 ); \
end

MusicWheelItemSortOnCommand=addx,SCREEN_CENTER_X;sleep,0.15;decelerate,0.15;addx,-SCREEN_CENTER_X;
MusicWheelItemSortOffCommand=accelerate,0.15;addx,SCREEN_CENTER_X
MusicWheelItemOnDelayOffset=0.041

HighlightOnCommand=diffusealpha,0.5;diffuseshift;blend,Blend.Add;;effectcolor1,0.2,0.33,0,1;effectcolor2,0.2,0.33,0,0;effectperiod,1.085



ScrollBarHeight=SCREEN_CENTER_Y+86
ScrollBarOnCommand=x,154

NumSectionColors=21
SectionColor1=color("#00FF4A")
SectionColor2=color("#E700FF")
SectionColor3=color("#E700FF")
SectionColor4=color("#E700FF")
SectionColor5=color("#FFFF00")
SectionColor6=color("#FFFF00")
SectionColor7=color("#FFFF00")
SectionColor8=color("#FFFF00")
SectionColor9=color("#FFFF00")
SectionColor10=color("#FFFF00")
SectionColor11=color("#FFFF00")
SectionColor12=color("#FFFF00")
SectionColor13=color("#FFFF00")
SectionColor14=color("#00C6FF")
SectionColor15=color("#00C6FF")
SectionColor16=color("#00C6FF")
SectionColor17=color("#00C6FF")
SectionColor18=color("#00C6FF")
SectionColor19=color("#00C6FF")
SectionColor20=color("#00C6FF")
SectionColor21=color("#EA52AA")

SortMenuColor=color("#ff8400")

UseSectionsWithPreferredGroup=false

# xxx: ChallengeMeter,Genre,Length,Recent aren't in foonmix, but I'd like them
# to stick around anyways.
SortOrders={ "SortOrder_Preferred", "SortOrder_Group", "SortOrder_Title", "SortOrder_BPM", "SortOrder_TopGrades" }
DefaultSort="SortOrder_Preferred"

ModeMenuChoiceNames="EXTREMEAC,Group,Title,Bpm,Popularity,TopGrades,Artist,EasyMeter,MediumMeter,HardMeter,ChallengeMeter,Genre,Length"
ChoiceEXTREMEAC=SortEXTREMEAC()

[MusicWheelItem]
WheelNotifyIconX=-155
WheelNotifyIconY=0
WheelNotifyIconOnCommand=

SongNameX=-126
SongNameOnCommand=zoom,0.8

SectionCollapsedX=-16
SectionCollapsedOnCommand=zoom,1.0;maxwidth,256
SectionExpandedX=-16
SectionExpandedOnCommand=zoom,1.0;maxwidth,256

SectionCountX=999
SectionCountY=0
SectionCountOnCommand=halign,1;zoom,0.75

RouletteX=-28
RouletteY=0
RouletteOnCommand=zoom,1;uppercase,true;rainbowscroll,true

RandomX=-28
RandomY=0
RandomOnCommand=zoom,1;uppercase,true;rainbowscroll,true

CourseX=-130
CourseY=0
CourseOnCommand=halign,0;maxwidth,198;

SortX=-130
SortY=0
SortOnCommand=shadowlength,0;zoom,1.4;halign,0

GradeP1X=82
GradeP1Y=0
GradeP2X=118
GradeP2Y=0

[TextBanner]
TitleOnCommand=halign,0
SubtitleOnCommand=halign,0
ArtistOnCommand=halign,0
ArtistPrependString="/"
AfterSetCommand=%TextBannerAfterSet

[WheelNotifyIcon]
ShowTraining=true

[BPMDisplay]
NoBpmText="---"

Cycle=1
SetNoBpmCommand=diffuse,color("1,1,1,1")
SetNormalCommand=diffuse,color("1,1,1,1")
SetChangeCommand=diffuse,color("1,0,1,1")
SetRandomCommand=diffuse,color("1,0.5,0,1")
SetExtraCommand=diffuse,color("1,0,0,1")

[Banner]
ScrollRandom=true
ScrollRoulette=false

[GrooveRadar]
#Stream
Label1X=-3
Label1Y=-90
#Voltage
Label2X=-104
Label2Y=-31
#Air
Label3X=-99
Label3Y=47
#Frezze
Label4X=98
Label4Y=47
#Chaos
Label5X=107
Label5Y=-31

RadarFrameOnCommand=zoom,0;rotationz,720;linear,0.5;rotationz,0;zoom,1
RadarFrameOffCommand=linear,0.5;zoom,0;rotationz,720;

Label1OnCommand=diffusealpha,0;sleep,0.947;diffusealpha,1
Label2OnCommand=diffusealpha,0;sleep,0.947;diffusealpha,1
Label3OnCommand=diffusealpha,0;sleep,0.947;diffusealpha,1
Label4OnCommand=diffusealpha,0;sleep,0.947;diffusealpha,1
Label5OnCommand=diffusealpha,0;sleep,0.947;diffusealpha,1

Label1OffCommand=finishtweening;linear,0.5;diffusealpha,0
Label2OffCommand=finishtweening;linear,0.5;diffusealpha,0
Label3OffCommand=finishtweening;linear,0.5;diffusealpha,0
Label4OffCommand=finishtweening;linear,0.5;diffusealpha,0
Label5OffCommand=finishtweening;linear,0.5;diffusealpha,0

[StepsDisplay]
FrameLoadCommand=%function(self,param) \
	local bFlip = param.PlayerState and param.PlayerState:GetPlayerNumber() ~= PLAYER_1; \
		self:zoomx(bFlip and -1 or 1); end
FrameSetCommand=basezoomx,SCREEN_WIDTH/640;
FrameOnCommand=visible,not GAMESTATE:IsDemonstration()
ShowTicks=true
ShowMeter=true
MeterOnCommand=vertalign,top
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
	end \
end

ShowDescription=false
DescriptionX=0
DescriptionY=0
DescriptionOnCommand=
NumTicks=13
MaxTicks=13
TicksX=0
TicksY=5
TicksOnCommand=valign,0
TicksSetCommand=%function(self,param) self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) if param.Meter > 10 then self:glowshift() else self:stopeffect() end end
[StepsDisplaySelMusicP1]
Fallback="StepsDisplay"
MeterX=-48
TicksX=-2
TicksOnCommand=rotationy,-180;zoomx,0.8
[StepsDisplaySelMusicP2]
Fallback="StepsDisplay"
MeterX=102
TicksX=-

[ModIconSelectMusic]
Fallback="ModIcon"
TextX=41
TextY=9
TextOnCommand=zoom,1;maxwidth,36;uppercase,true;valign,1;halign,1

[ModIconRowSelectMusic]
Fallback="ModIconRow"
NumModIcons=7
SpacingX=80
SpacingY=0
ModIconMetricsGroup="ModIconSelectMusic"

[ModIconRowSelectMusicP1]
Fallback="ModIconRowSelectMusic"
ModIconMetricsGroup="ModIconSelectMusicP1"

[ModIconRowSelectMusicP2]
Fallback="ModIconRowSelectMusic"
ModIconMetricsGroup="ModIconSelectMusicP2"

[ModIconSelectMusicP1]
Fallback="ModIconSelectMusic"

[ModIconSelectMusicP2]
Fallback="ModIconSelectMusic"

################################################################################
[OptionRowPlayer]
Fallback="OptionRow"
ShowModIcons=false

ModIconP1X=SCREEN_CENTER_X-302
ModIconP2X=SCREEN_CENTER_X-302
ModIconOnCommand=draworder,2;addx,-640;sleep,0.317;decelerate,0.766;addx,640
ModIconOffCommand=accelerate,0.783;addx,-640

[ModIcon]
TextOnCommand=zoom,0.5;maxwidth,70;uppercase,true;shadowlength,0;
CropTextToWidth=32
StopWords="1X,default,Overhead,Off"

[OptionRowPlayerP1]
Fallback="ModIcon"
ModIconMetricsGroup="OptionRowPlayerP1"
TextX=41
TextY=9
TextOnCommand=zoom,1;maxwidth,36;uppercase,true;valign,1;halign,1
NumModIcons=7
SpacingX=80
SpacingY=0

[OptionRowPlayerP2]
Fallback="ModIconRowSelectMusic"
ModIconMetricsGroup="OptionRowPlayerP2"

[ScreenPlayerOptions]
ShowFooter=true
ShowHeader=true
ShowHelp=false
WaitForChildrenBeforeTweeningOut=true
ShowModIcons=true
ShowDifficultyIcons=true

ModIconsP1X=SCREEN_CENTER_X-302
ModIconsP1Y=SCREEN_CENTER_Y-191
ModIconsP1OnCommand=draworder,97;addx,-640;sleep,0.366;decelerate,0.759;addx,640
ModIconsP1OffCommand=
ModIconsP2X=SCREEN_CENTER_X-302
ModIconsP2Y=SCREEN_CENTER_Y-177
ModIconsP2OnCommand=draworder,97;addx,-640;sleep,0.366;decelerate,0.759;addx,640
ModIconsP2OffCommand=

DifficultyIconP1X=SCREEN_CENTER_X-232
DifficultyIconP1Y=SCREEN_CENTER_Y+173
DifficultyIconP1OnCommand=draworder,99
DifficultyIconP1OffCommand=
DifficultyIconP2X=SCREEN_LEFT+262
DifficultyIconP2Y=SCREEN_CENTER_Y+15
DifficultyIconP2OnCommand=diffusealpha,0;addy,40;cropbottom,1;sleep,0.717;diffusealpha,1;decelerate,0.183;addy,-40;cropbottom,0
DifficultyIconP2OffCommand=


NumRowsShown=9
OptionRowNormalMetricsGroup="OptionRowPlayer"

# speed, accel, appear, turn, scroll, noteskin, freeze, little, dark,
# judge, steps, persp, foon, asso-, (^^), chars
LineNames="1,2,3,4,5,6,7,11,"
Line1="list,Speed"
Line2="list,Accel"
Line3="list,Appearance"
Line4="list,Turn"
#Line8="list,Little"
Line6="list,Scroll"
Line5="list,NoteSkins"
Line7="list,Freeze"
#Line9="list,Dark"
#Line10="list,Judge"
Line11="list,Steps"
#Line12="list,Persp"
#Line13="list,Foon"
#Line14="list,Asso"
#Line15="list,YAMAZAKI"
#Line16="list,Characters"

ShowExitRow=true
SeparateExitRow=false

[ScreenPlayerOptionsRestricted]
Fallback="ScreenPlayerOptions"
NextScreen="ScreenStageInformation"
LineNames="1,6,16,17"
Line16="list,StepsLocked"
Line17="list,Characters"
################################################################################
[ScreenSystemTheme]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames="1,2,3,4"
Line1="lua,ThemePrefRow('ReceptorPos')"
Line2="lua,ThemePrefRow('ShowRoulette')"
Line3="lua,ThemePrefRow('ShowRandom')"
Line4="lua,ThemePrefRow('SpeedModSystem')"
################################################################################
[ScreenSongOptions]
ShowFooter=true
ShowHelp=false
WaitForChildrenBeforeTweeningOut=true

NumRowsShown=8
OptionRowNormalMetricsGroup="OptionRowPlayer"

# life type, bar drain, bat lives, fail, assist tick, background, rate,
# autoplay, auto adjust, save scores
################################################################################
[ScreenSelectCourse]
Fallback="ScreenSelectMusic"
#--#
ShowBPMDisplay=false
ShowSortDisplay=false
ShowGrooveRadar=false
ShowStepsDisplay=false
ShowSongOptions=false
ShowDifficultyIcons=false
ShowStageDisplay=false
ShowScoreFrame=false
ShowScore=false
#--#
ExplanationX=SCREEN_CENTER_X-175
ExplanationY=SCREEN_CENTER_Y-160
ExplanationOnCommand=draworder,81;addx,-SCREEN_WIDTH*0.625;bounceend,0.5;addx,SCREEN_WIDTH*0.625
ExplanationOffCommand=bouncebegin,0.5;addx,-SCREEN_WIDTH*0.625

BannerFrameY=SCREEN_CENTER_Y-80

BannerY=SCREEN_CENTER_Y-63

NumCourseStagesX=SCREEN_CENTER_X-9999
NumCourseStagesY=SCREEN_CENTER_Y-9999
NumCourseStagesOnCommand=draworder,82;shadowlength,0;addx,-SCREEN_WIDTH;bounceend,0.5;addx,SCREEN_WIDTH
NumCourseStagesOffCommand=bouncebegin,0.5;addx,-SCREEN_WIDTH

CourseTimeX=SCREEN_CENTER_X-9999
CourseTimeY=SCREEN_CENTER_Y-9999
CourseTimeOnCommand=draworder,82;shadowlength,0;addx,-SCREEN_WIDTH;bounceend,0.5;addx,SCREEN_WIDTH
CourseTimeOffCommand=bouncebegin,0.5;addx,-SCREEN_WIDTH

CourseContentsListX=SCREEN_CENTER_X-174
CourseContentsListY=SCREEN_CENTER_Y+100
CourseContentsListOnCommand=draworder,2;addx,-280;sleep,0.450;linear,0.267;addx,274;linear,0.05;addx,-6;decelerate,0.116;addx,12;decelerate,0.067;addx,-4;decelerate,0.1;addx,4
CourseContentsListOffCommand=accelerate,0.316;addx,-280
CourseContentsListShowCommand=bouncebegin,0.3;zoomy,1
CourseContentsListHideCommand=linear,0.3;zoomy,0

################################################################################
[ScreenStageInformation]
NextScreen=Branch.GameplayScreen()
################################################################################
[Gameplay]
UseInternalScoring=false
[GameState]
AllowLateJoin=false
# Various feats that you can earn
ProfileRecordFeats=true
CategoryRecordFeats=true
# Disallow bad names
UseNameBlacklist=false
# Alow OMES
AllowExtra=true
AllowExtra2=true
# Don't let the player change difficulties on an ES/OMES
LockExtraStageSelection=false
# [sm-ssc] Normally, in event mode, the premium value is ignored. Set this
# metric to true to re-gain that behavior.
DisablePremiumInEventMode=false
# Let edit steps be allowed for earning extra stages.
EditAllowedForExtra=false
[ScreenGameplay]
StartGivesUp=true

# what the hell is the point of this metric anyways
StopCourseEarly=false

# this value should match 3.9's ScreenGameplay.cpp:
MinSecondsToStepNextSong=2.0

# in 3.9 this is:
# (gameplay in length) + (gameplay ready length) + (gameplay go length) + 2
MinSecondsToStep=6.0
# in 3.9 this is the start of gameplay ready.
MinSecondsToMusic=2.0

# used exclusively in ScreenGameplay::GetMusicEndTiming
OutTransitionLength=5
# how long the course "next song" transition takes.
CourseTransitionLength=6

# unsure.
MusicFadeOutSeconds=0.5
BeginFailedDelay=1.0

ShowLifeMeterForDisabledPlayers=false
LifeFrameX=SCREEN_CENTER_X
LifeFrameY=SCREEN_TOP+20
LifeFrameOnCommand=draworder,98;addy,-50;linear,0.6;addy,50
LifeFrameOffCommand=linear,1;addy,-100
#--#
LifeP1X=SCREEN_CENTER_X-180
LifeP1Y=SCREEN_TOP+18
LifeP1OnCommand=draworder,0;addy,-50;linear,0.6;addy,50
LifeP1OffCommand=linear,1;addy,-100
LifeP2X=SCREEN_CENTER_X+176
LifeP2Y=SCREEN_TOP+18
LifeP2OnCommand=draworder,0;addy,-50;linear,0.6;addy,50
LifeP2OffCommand=linear,1;addy,-100

CombinedLifeX=SCREEN_CENTER_X
CombinedLifeY=SCREEN_TOP+27
CombinedLifeOnCommand=draworder,99;addy,-100;linear,1;addy,100
CombinedLifeOffCommand=linear,1;addy,-100

ShowStageDisplay=false
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=SCREEN_TOP-35
StageDisplayOnCommand=draworder,99;addy,-50;linear,0.6;addy,50
StageDisplayOffCommand=linear,1;addy,-100

ShowSDisplay=true
SDisplayX=SCREEN_CENTER_X
SDisplayY=SCREEN_TOP+40
SDisplayOnCommand=draworder,99;addy,-50;linear,0.6;addy,50
SDisplayOffCommand=linear,0.8;addy,-50

ShowStageNumber=GAMESTATE:IsCourseMode()
StageNumberP1X=SCREEN_CENTER_X-70
StageNumberP1Y=SCREEN_TOP+25
StageNumberP1OnCommand=draworder,99;diffuse,color("0,0.5,1,1");addy,-100;linear,1;addy,100
StageNumberP1OffCommand=linear,1;addy,-100
StageNumberP2X=SCREEN_CENTER_X+70
StageNumberP2Y=SCREEN_TOP+25
StageNumberP2OnCommand=draworder,99;diffuse,color("0,0.5,1,1");addy,-100;linear,1;addy,100
StageNumberP2OffCommand=linear,1;addy,-100

StepsDisplayP1X=SCREEN_LEFT+85
StepsDisplayP1Y=0
StepsDisplayP1OnCommand=draworder,90;addz,-100;addx,-164;linear,0.6;addx,164
StepsDisplayP1OffCommand=linear,0.8;addx,-164
StepsDisplayP1SetNoReverseCommand=y,SCREEN_BOTTOM-46
StepsDisplayP1SetReverseCommand=y,SCREEN_CENTER_Y-218

StepsDisplayP2X=SCREEN_RIGHT-85
StepsDisplayP2Y=0
StepsDisplayP2OnCommand=draworder,102;addx,SCREEN_CENTER_X;sleep,0.5;linear,0.5;addx,-SCREEN_CENTER_X
StepsDisplayP2OffCommand=linear,0.5;addx,SCREEN_CENTER_X
StepsDisplayP2SetNoReverseCommand=y,SCREEN_BOTTOM-99;cropbottom,0.5;croptop,0
StepsDisplayP2SetReverseCommand=y,SCREEN_TOP+85;croptop,0.5;cropbottom,0

ShowScoreInRave=true
ScoreFrameX=SCREEN_CENTER_X
ScoreFrameY=SCREEN_BOTTOM-78
ScoreFrameOnCommand=draworder,98;addy,78;linear,0.6;addy,-78
ScoreFrameOffCommand=linear,1;linear,0.8;addy,78
#--#
ScoreP1X=SCREEN_CENTER_X-217
ScoreP1Y=SCREEN_BOTTOM-52
ScoreP1OnCommand=draworder,99;diffuse,PlayerColor(PLAYER_1);addy,78;linear,0.6;addy,-78
ScoreP1OffCommand=linear,0.8;addy,78
ScoreP2X=SCREEN_CENTER_X+215
ScoreP2Y=SCREEN_BOTTOM-52
ScoreP2OnCommand=draworder,99;diffuse,PlayerColor(PLAYER_2);addy,78;linear,0.6;addy,-78
ScoreP2OffCommand=linear,0.8;addy,78

PlayerOptionsP1X=SCREEN_CENTER_X-80
PlayerOptionsP1Y=SCREEN_BOTTOM-62
PlayerOptionsP1OnCommand=draworder,99;horizalign,left;diffuse,color("0.4,0.8,1.0,1");shadowlength,1;addy,78;linear,0.6;addy,-78
PlayerOptionsP1OffCommand=linear,0.8;addy,78
PlayerOptionsP2X=SCREEN_CENTER_X-80
PlayerOptionsP2Y=SCREEN_BOTTOM-30
PlayerOptionsP2OnCommand=draworder,99;diffuse,color("1.0,0.5,0.2,1");shadowlength,1;zoom,0.6;addy,100;sleep,0.5;linear,1;addy,-100
PlayerOptionsP2OffCommand=linear,1;addy,100
StopWords="1X,default,Overhead,Off"

SecondaryScoreP1X=SCREEN_CENTER_X-20
SecondaryScoreP1Y=SCREEN_CENTER_Y
SecondaryScoreP1OnCommand=
SecondaryScoreP1OffCommand=
SecondaryScoreP2X=SCREEN_CENTER_X+20
SecondaryScoreP2Y=SCREEN_CENTER_Y
SecondaryScoreP2OnCommand=
SecondaryScoreP2OffCommand=

SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_BOTTOM-10
SongOptionsOnCommand=draworder,99;zoom,0.5;addy,100;sleep,0.5;linear,1;addy,-100
SongOptionsOffCommand=linear,1;addy,100

# extra stage time display (old hardcoded version)
SurviveTimeX=SCREEN_CENTER_X
SurviveTimeY=SCREEN_CENTER_Y+100
SurviveTimeOnCommand=sleep,0.3;linear,0.3;diffusealpha,1;sleep,3.5;linear,0.5;diffusealpha,0

# oni game over
OniGameOverP1X=SCREEN_CENTER_X-160
OniGameOverP1Y=SCREEN_CENTER_Y
OniGameOverP1OnCommand=visible,false
OniGameOverP1DieCommand=visible,true
OniGameOverP1OffCommand=
#----------------------#
OniGameOverP2X=SCREEN_CENTER_X+160
OniGameOverP2Y=SCREEN_CENTER_Y
OniGameOverP2OnCommand=visible,false
OniGameOverP2DieCommand=visible,true
OniGameOverP2OffCommand=

# life bar
[StreamDisplay]
NumPills=33
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:aux(itemIndex); \
	local zoomed_width=16; \
	local zoomed_height=7; \
	local spacing_x=8; \
	self:zoomtoheight(zoomed_height); \
	self:x(4+(itemIndex-(numItems/2))*spacing_x); \
	if (itemIndex % 2) == 0 then \
		self:zoomtowidth(18); \
		self:zoomtoheight(zoomed_width*0.5); \
		self:rotationz(-90); \
	else \
		self:zoomtowidth(28); \
		self:rotationz(65); \
	end; \
end
TextureCoordScaleX=10
#[StreamDisplay]
#PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:setsize(256,26) self:x((itemIndex-(numItems/2))); end
#TextureCoordScaleX=2
#NumPills=1
#DangerThreshold=0.25
# rave
[CombinedLifeMeterTug]
MeterWidth=618

# oni
[LifeMeterBattery]
BatteryBlinkTime=1.2

BatteryP1X=-93
BatteryP1Y=0
BatteryP1OnCommand=diffuse,PlayerColor(PLAYER_1)
BatteryP2X=-93
BatteryP2Y=0
BatteryP2OnCommand=diffuse,PlayerColor(PLAYER_2)

# hacks, all of them.
NumLivesFormat=""
NumLivesP1X=-92
NumLivesP1Y=0
NumLivesP1OnCommand=visible,false
NumLivesP2X=92
NumLivesP2Y=0
NumLivesP2OnCommand=visible,false
# oni score
[LifeMeterBattery Percent]
Format=FormatPercentScore
[Player]
#BrightGhostComboThreshold=99999
ReceptorArrowsYStandard=-156
ReceptorArrowsYReverse=128
 
[Judgment]
JudgmentOnCommand=shadowlength,0;

JudgmentW1Command=diffusealpha,1;zoom,1.3;linear,0.05;zoom,1;sleep,0.8;linear,0;diffusealpha,0;glowblink;effectperiod,0.05;effectcolor1,color("1,1,1,0");effectcolor2,color("1,1,1,0.8")
JudgmentW2Command=diffusealpha,1;zoom,1.3;linear,0.05;zoom,1;sleep,0.8;linear,0;diffusealpha,0
JudgmentW3Command=diffusealpha,1;zoom,1.2;linear,0.05;zoom,1;sleep,0.8;linear,0;diffusealpha,0
JudgmentW4Command=diffusealpha,1;zoom,1.1;linear,0.05;zoom,1;sleep,0.8;linear,0;diffusealpha,0
JudgmentW5Command=diffusealpha,1;zoom,1.0;vibrate;effectmagnitude,4,8,8;sleep,0.8;linear,0;diffusealpha,0
JudgmentMissCommand=diffusealpha,1;zoom,1;y,-20;linear,0.8;y,20;sleep,0.8;linear,0;diffusealpha,0;

[HoldJudgment]
HoldJudgmentLetGoCommand=finishtweening;visible,true;shadowlength,0;diffusealpha,1;zoom,1;sleep,0.6;diffusealpha,0
HoldJudgmentHeldCommand=finishtweening;visible,true;shadowlength,0;diffusealpha,1;zoomy,1.5;zoomx,1.2;sleep,0.016;linear,0.033;zoom,1;sleep,0.55;linear,0;diffusealpha,0

# todo: fix this
[Combo]
ShowComboAt=4
ShowMissesAt=-1

NumberOnCommand=y,20;align,1,1;shadowlength,4
LabelOnCommand=x,6;y,20;align,0,1;shadowlength,4

PulseCommand=%function(self,param) self:stoptweening(); self:zoom(1.4*param.Zoom); self:linear(0.05); self:zoom(param.Zoom); end
PulseLabelCommand=%function(self,param) self:stoptweening(); self:zoom(1.4*param.LabelZoom); self:linear(0.05); self:zoom(param.LabelZoom); end

NumberMinZoom=0.66
NumberMaxZoom=1
NumberMaxZoomAt=100

LabelMinZoom=1.0
LabelMaxZoom=1.5

[RollingNumbers]
TextFormat="%09.0f"
ApproachSeconds=0.2
Commify=false
LeadingZeroMultiplyColor=color("#777777FF")

[ScoreDisplayRave]
MeterP1OnCommand=rotationz,-90
MeterP2OnCommand=rotationz,-90

LevelP1OnCommand=addy,-140;
LevelP2OnCommand=addy,-140;

[StepsDisplayGameplay]
Fallback="StepsDisplay"
ShowTicks=false
ShowAutogen=false
ShowStepsType=false
ShowMeter=false

ShowFrame=true
FrameX=0
FrameY=0
FrameOnCommand=animate,false
FrameLoadCommand=%function(self,param) \
	if param.PlayerState then \
		local pn = param.PlayerState:GetPlayerNumber(); \
		self:setstate(LoadStepsDisplayGameplayFrame(self,pn)) \
	end; \
end;
# thanks default theme, I need to *not* color this.
FrameSetCommand=visible,true

# extra stage version
[ScreenGameplayExtra]
Fallback="ScreenGameplay"

# score section on top
ScoreFrameX=SCREEN_CENTER_X
ScoreFrameY=SCREEN_TOP+50
ScoreFrameOnCommand=draworder,99;addy,-50;linear,0.6;addy,50
ScoreFrameOffCommand=linear,0.8;addy,-50
#--#
ScoreP1X=SCREEN_CENTER_X-217
ScoreP1Y=SCREEN_TOP+24
ScoreP1OnCommand=zoom,1;draworder,99;diffuse,PlayerColor(PLAYER_1);addy,-50;linear,0.6;addy,50
ScoreP1OffCommand=linear,0.8;addy,-50
ScoreP2X=SCREEN_CENTER_X+217
ScoreP2Y=SCREEN_TOP+24
ScoreP2OnCommand=draworder,99;diffuse,PlayerColor(PLAYER_2);addy,-50;linear,0.6;addy,50
ScoreP2OffCommand=linear,0.8;addy,-50

# song options
SongOptionsX=
SongOptionsY=
SongOptionsOnCommand=visible,false
SongOptionsOffCommand=

# player options
PlayerOptionsP1X=SCREEN_CENTER_X-80
PlayerOptionsP1Y=SCREEN_TOP+14
PlayerOptionsP1OnCommand=horizalign,left;draworder,99;diffuse,color("#1FEFB6");shadowlength,1;addy,-50;linear,0.6;addy,50
PlayerOptionsP1OffCommand=linear,0.8;addy,-50
PlayerOptionsP2X=SCREEN_CENTER_X-80
PlayerOptionsP2Y=SCREEN_TOP+14
PlayerOptionsP2OnCommand=horizalign,left;draworder,99;diffuse,color("#1FEFB6");shadowlength,1;addy,-50;linear,0.6;addy,50
PlayerOptionsP2OffCommand=linear,0.8;addy,-50

# difficulty icon
StepsDisplayP1SetReverseCommand=y,SCREEN_CENTER_Y-218;x,SCREEN_CENTER_X-235
StepsDisplayP2SetReverseCommand=y,SCREEN_CENTER_Y-218;x,SCREEN_CENTER_X+235
# life section on bottom
LifeFrameX=SCREEN_CENTER_X
LifeFrameY=SCREEN_BOTTOM-78
LifeFrameOnCommand=draworder,99;addy,78;linear,0.6;addy,-78
LifeFrameOffCommand=linear,0.8;addy,78
#--#
LifeP1X=SCREEN_CENTER_X-176
LifeP1Y=SCREEN_BOTTOM-46
LifeP1OnCommand=draworder,0;addy,78;linear,0.6;addy,-78
LifeP1OffCommand=addy,999
LifeP2X=SCREEN_CENTER_X+176
LifeP2Y=SCREEN_BOTTOM-46
LifeP2OnCommand=draworder,0;zoomx,-1;addy,78;linear,0.6;addy,-78
LifeP2OffCommand=addy,999
# stage display
ShowSDisplay=true
SDisplayX=SCREEN_CENTER_X
SDisplayY=SCREEN_BOTTOM-68
SDisplayOnCommand=draworder,99;addy,78;linear,0.6;addy,-78
SDisplayOffCommand=linear,0.8;addy,78

ShowStageDisplay=false
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=SCREEN_BOTTOM-68
StageDisplayOnCommand=draworder,99;addy,78;linear,0.6;addy,-78
StageDisplayOffCommand=linear,0.8;addy,78

[ScreenGameplayOni]
Fallback="ScreenGameplay"
################################################################################
[ScreenEvaluation]
ShowHeader=true
ShowFooter=true
ShowStyleIcon=false
WaitForChildrenBeforeTweeningOut=true
TimerSeconds=15

ShowBannerArea=true
BannerWidth=256
BannerHeight=80
LargeBannerX=SCREEN_CENTER_X
LargeBannerY=SCREEN_CENTER_Y-121
LargeBannerOnCommand=addy,410;sleep,0.266;decelerate,0.133;addy,-410
LargeBannerOffCommand=sleep,0.6;accelerate,0.150;addy,410
LargeBannerFrameX=SCREEN_CENTER_X
LargeBannerFrameY=SCREEN_CENTER_Y-121
LargeBannerFrameOnCommand=addy,410;sleep,0.266;decelerate,0.133;addy,-410
LargeBannerFrameOffCommand=sleep,0.6;accelerate,0.150;addy,410

ShowStageDisplay=not GAMESTATE:IsCourseMode()
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=SCREEN_CENTER_Y-151
StageDisplayOnCommand=addy,410;sleep,0.266;decelerate,0.133;addy,-410
StageDisplayOffCommand=sleep,0.6;accelerate,0.150;addy,410

ShowDifficultyIcon=not GAMESTATE:IsCourseMode()
DifficultyIconP1X=SCREEN_CENTER_X-108
DifficultyIconP1Y=SCREEN_CENTER_Y-138
DifficultyIconP1OnCommand=addy,999;sleep,0.4;addy,-999
DifficultyIconP1OffCommand=sleep,0.6;addy,999
DifficultyIconP2X=SCREEN_CENTER_X+108
DifficultyIconP2Y=SCREEN_CENTER_Y-138
DifficultyIconP2OnCommand=draworder,99;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
DifficultyIconP2OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT

PlayerOptionsP1X=SCREEN_CENTER_X-126
PlayerOptionsP1Y=SCREEN_CENTER_Y-101
PlayerOptionsP1OnCommand=shadowlength,0;horizalign,left;addy,410;sleep,0.266;decelerate,0.133;addy,-410
PlayerOptionsP1OffCommand=sleep,0.6;accelerate,0.150;addy,410
PlayerOptionsP2X=SCREEN_CENTER_X+127
PlayerOptionsP2Y=SCREEN_CENTER_Y-101
PlayerOptionsP2OnCommand=shadowlength,0;horizalign,left;addy,410;sleep,0.266;decelerate,0.133;addy,-410
PlayerOptionsP2OffCommand=sleep,0.6;accelerate,0.150;addy,410

ShowGradeArea=true
GradeFrameP1X=SCREEN_CENTER_X-228
GradeFrameP1Y=SCREEN_CENTER_Y-124
GradeFrameP1OnCommand=addx,-172;sleep,0.250;decelerate,0.150;addx,172
GradeFrameP1OffCommand=sleep,0.6;accelerate,0.150;addx,-172
GradeFrameP2X=SCREEN_CENTER_X+228
GradeFrameP2Y=SCREEN_CENTER_Y-124
GradeFrameP2OnCommand=addx,-172;sleep,0.250;decelerate,0.150;addx,172
GradeFrameP2OffCommand=sleep,0.6;accelerate,0.150;addx,-172
GradeP1X=SCREEN_CENTER_X-226
GradeP1Y=SCREEN_CENTER_Y-128
GradeP1OnCommand=addx,-172;sleep,0.250;decelerate,0.150;addx,172
GradeP1OffCommand=sleep,0.6;accelerate,0.150;addx,-172
GradeP2X=SCREEN_CENTER_X+226
GradeP2Y=SCREEN_CENTER_Y-128
GradeP2OnCommand=addx,-172;sleep,0.250;decelerate,0.150;addx,172
GradeP2OffCommand=sleep,0.6;accelerate,0.150;addx,-172

ShowSharedJudgmentLineLabels=true

ShowJudgmentLineW1=GAMESTATE:IsCourseMode()
W1LabelX=SCREEN_CENTER_X
W1LabelY=SCREEN_CENTER_Y-80
W1LabelOnCommand=addy,316;sleep,0.250;decelerate,0.2;addy,-316
W1LabelOffCommand=sleep,0.550;accelerate,0.150;addy,316
#--#
W1NumberP1X=SCREEN_CENTER_X-61
W1NumberP1Y=SCREEN_CENTER_Y-80
W1NumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);horizalign,right;addx,-260;sleep,0.266;decelerate,0.183;addx,260
W1NumberP1OffCommand=sleep,0.550;accelerate,0.183;addx,-260
W1NumberP2X=SCREEN_CENTER_X+59
W1NumberP2Y=SCREEN_CENTER_Y-80
W1NumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);horizalign,left;addx,260;sleep,0.266;decelerate,0.183;addx,-260
W1NumberP2OffCommand=sleep,0.550;accelerate,0.183;addx,260

ShowJudgmentLineW2=true
W2LabelX=SCREEN_CENTER_X
W2LabelY=SCREEN_CENTER_Y-62
W2LabelOnCommand=addy,316;sleep,0.316;decelerate,0.2;addy,-316
W2LabelOffCommand=sleep,0.483;accelerate,0.150;addy,316
#--#
W2NumberP1X=SCREEN_CENTER_X-61
W2NumberP1Y=SCREEN_CENTER_Y-62
W2NumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);horizalign,right;addx,-260;sleep,0.333;decelerate,0.183;addx,260
W2NumberP1OffCommand=sleep,0.483;accelerate,0.183;addx,-260
W2NumberP2X=SCREEN_CENTER_X+59
W2NumberP2Y=SCREEN_CENTER_Y-62
W2NumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);horizalign,right;addx,-260;sleep,0.333;decelerate,0.183;addx,260
W2NumberP2OffCommand=sleep,0.483;accelerate,0.183;addx,260

ShowJudgmentLineW3=true
W3LabelX=SCREEN_CENTER_X
W3LabelY=SCREEN_CENTER_Y-39
W3LabelOnCommand=addy,316;sleep,0.383;decelerate,0.2;addy,-316
W3LabelOffCommand=sleep,0.416;accelerate,0.150;addy,316
#--#
W3NumberP1X=SCREEN_CENTER_X-61
W3NumberP1Y=SCREEN_CENTER_Y-39
W3NumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);horizalign,right;addx,-260;sleep,0.400;decelerate,0.183;addx,260
W3NumberP1OffCommand=sleep,0.416;accelerate,0.183;addx,-260
W3NumberP2X=SCREEN_CENTER_X+59
W3NumberP2Y=SCREEN_CENTER_Y-39
W3NumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);horizalign,left;addx,260;sleep,0.400;decelerate,0.183;addx,-260
W3NumberP2OffCommand=sleep,0.416;accelerate,0.183;addx,260

ShowJudgmentLineW4=true
W4LabelX=SCREEN_CENTER_X
W4LabelY=SCREEN_CENTER_Y-16
W4LabelOnCommand=addy,316;sleep,0.450;decelerate,0.2;addy,-316
W4LabelOffCommand=sleep,0.350;accelerate,0.150;addy,316
#--#
W4NumberP1X=SCREEN_CENTER_X-61
W4NumberP1Y=SCREEN_CENTER_Y-16
W4NumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);horizalign,right;addx,-260;sleep,0.466;decelerate,0.183;addx,260
W4NumberP1OffCommand=sleep,0.350;accelerate,0.183;addx,-260
W4NumberP2X=SCREEN_CENTER_X+59
W4NumberP2Y=SCREEN_CENTER_Y-16
W4NumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);horizalign,left;addx,260;sleep,0.466;decelerate,0.183;addx,-260
W4NumberP2OffCommand=sleep,0.350;accelerate,0.183;addx,260

ShowJudgmentLineW5=true
W5LabelX=SCREEN_CENTER_X
W5LabelY=SCREEN_CENTER_Y+7
W5LabelOnCommand=addy,316;sleep,0.516;decelerate,0.2;addy,-316
W5LabelOffCommand=sleep,0.283;accelerate,0.150;addy,316
#--#
W5NumberP1X=SCREEN_CENTER_X-61
W5NumberP1Y=SCREEN_CENTER_Y+7
W5NumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);horizalign,right;addx,-260;sleep,0.533;decelerate,0.183;addx,260
W5NumberP1OffCommand=sleep,0.283;accelerate,0.183;addx,-260
W5NumberP2X=SCREEN_CENTER_X+59
W5NumberP2Y=SCREEN_CENTER_Y+7
W5NumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);horizalign,left;addx,260;sleep,0.533;decelerate,0.183;addx,-260
W5NumberP2OffCommand=sleep,0.283;accelerate,0.183;addx,260

ShowJudgmentLineMiss=true
MissLabelX=SCREEN_CENTER_X
MissLabelY=SCREEN_CENTER_Y+30
MissLabelOnCommand=addy,316;sleep,0.583;decelerate,0.2;addy,-316
MissLabelOffCommand=sleep,0.216;accelerate,0.150;addy,316
#--#
MissNumberP1X=SCREEN_CENTER_X-61
MissNumberP1Y=SCREEN_CENTER_Y+30
MissNumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);horizalign,right;addx,-260;sleep,0.600;decelerate,0.183;addx,260
MissNumberP1OffCommand=sleep,0.216;accelerate,0.183;addx,-260
MissNumberP2X=SCREEN_CENTER_X+59
MissNumberP2Y=SCREEN_CENTER_Y+30
MissNumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);horizalign,left;addx,260;sleep,0.600;decelerate,0.183;addx,-260
MissNumberP2OffCommand=sleep,0.216;accelerate,0.183;addx,260

ShowJudgmentLineHeld=true
HeldLabelX=SCREEN_CENTER_X
HeldLabelY=SCREEN_CENTER_Y+53
HeldLabelOnCommand=addy,316;sleep,0.650;decelerate,0.2;addy,-316
HeldLabelOffCommand=sleep,0.150;accelerate,0.150;addy,316
#--#
HeldNumberP1X=SCREEN_CENTER_X-61
HeldNumberP1Y=SCREEN_CENTER_Y+53
HeldNumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);horizalign,right;addx,-260;sleep,0.666;decelerate,0.183;addx,260
HeldNumberP1OffCommand=sleep,0.150;accelerate,0.183;addx,-260
HeldNumberP2X=SCREEN_CENTER_X+30
HeldNumberP2Y=SCREEN_CENTER_Y+53
HeldNumberP2OnCommand=zoom,0.7;diffuse,PlayerColor(PLAYER_2);horizalign,left;addx,260;sleep,0.666;decelerate,0.183;addx,-260
HeldNumberP2OffCommand=sleep,0.150;accelerate,0.183;addx,260

ShowJudgmentLineMaxCombo=true
MaxComboMaxDigits=4
MaxComboLabelX=0
MaxComboLabelY=0
MaxComboLabelOnCommand=diffusealpha,0
MaxComboLabelOffCommand=
#--#
MaxComboNumberP1X=SCREEN_CENTER_X-202
MaxComboNumberP1Y=SCREEN_CENTER_Y+80
MaxComboNumberP1OnCommand=diffuse,color("#F8F800");diffusealpha,0;sleep,0.366;linear,0.3;diffusealpha,1
MaxComboNumberP1OffCommand=sleep,0.333;stopeffect;linear,0.3;diffusealpha,0
MaxComboNumberP2X=SCREEN_CENTER_X+254
MaxComboNumberP2Y=SCREEN_CENTER_Y+80
MaxComboNumberP2OnCommand=diffuse,color("#F8F800");diffusealpha,0;sleep,0.366;linear,0.3;diffusealpha,1
MaxComboNumberP2OffCommand=sleep,0.333;stopeffect;linear,0.3;diffusealpha,0

ShowScoreArea=true
ScoreLabelX=SCREEN_CENTER_X
ScoreLabelY=SCREEN_CENTER_Y+115
ScoreLabelOnCommand=addy,138;sleep,0.866;decelerate,0.116;addy,-138
ScoreLabelOffCommand=sleep,0.016;accelerate,0.116;addy,138
#--#
ScoreNumberP1X=SCREEN_CENTER_X-60
ScoreNumberP1Y=SCREEN_CENTER_Y+116
ScoreNumberP1OnCommand=draworder,90;diffuse,PlayerColor(PLAYER_1);horizalign,right;addx,-260;sleep,0.8;decelerate,0.183;addx,260
ScoreNumberP1OffCommand=sleep,0.016;accelerate,0.183;addx,-260
ScoreNumberP2X=SCREEN_CENTER_X+60
ScoreNumberP2Y=SCREEN_CENTER_Y+116
ScoreNumberP2OnCommand=draworder,90;diffuse,PlayerColor(PLAYER_2);horizalign,left;addx,260;sleep,0.8;decelerate,0.183;addx,-260
ScoreNumberP2OffCommand=sleep,0.016;accelerate,0.183;addx,260

ShowBonusArea=true
BarActualMaxCommand=glowshift;effectperiod,0.5
#--------#
BonusFrameP1X=SCREEN_CENTER_X-228
BonusFrameP1Y=SCREEN_CENTER_Y+9
BonusFrameP1OnCommand=diffusealpha,0;sleep,0.65;diffusealpha,1
BonusFrameP1OffCommand=sleep,0.333;diffusealpha,0
BonusFrameP2X=SCREEN_CENTER_X+228
BonusFrameP2Y=SCREEN_CENTER_Y+9
BonusFrameP2OnCommand=diffusealpha,0;sleep,0.65;diffusealpha,1
BonusFrameP2OffCommand=sleep,0.333;diffusealpha,0
#--------#
BarPossible1P1X=SCREEN_CENTER_X-160
BarPossible1P1Y=SCREEN_CENTER_Y-47
BarPossible1P1OnCommand=horizalign,left;rotationz,180;zoomx,0;sleep,0.2;linear,1.0;zoomx,1
BarPossible1P1OffCommand=sleep,0.333;linear,0.366;diffusealpha,0
BarPossible1P2X=SCREEN_CENTER_X+160
BarPossible1P2Y=SCREEN_CENTER_Y-47
BarPossible1P2OnCommand=horizalign,left;rotationz,0;zoomx,0;sleep,0.2;linear,1.0;zoomx,1
BarPossible1P2OffCommand=sleep,0.333;linear,0.366;diffusealpha,0
#---#
BarPossible2P1X=SCREEN_CENTER_X-160
BarPossible2P1Y=SCREEN_CENTER_Y-23
BarPossible2P1OnCommand=horizalign,left;rotationz,180;zoomx,0;sleep,0.3;linear,1.0;zoomx,1
BarPossible2P1OffCommand=sleep,0.333;linear,0.366;diffusealpha,0
BarPossible2P2X=SCREEN_CENTER_X+160
BarPossible2P2Y=SCREEN_CENTER_Y-23
BarPossible2P2OnCommand=horizalign,left;rotationz,0;zoomx,0;sleep,0.3;linear,1.0;zoomx,1
BarPossible2P2OffCommand=sleep,0.333;linear,0.366;diffusealpha,0
#---#
BarPossible3P1X=SCREEN_CENTER_X-160
BarPossible3P1Y=SCREEN_CENTER_Y+1
BarPossible3P1OnCommand=horizalign,left;rotationz,180;zoomx,0;sleep,0.4;linear,1.0;zoomx,1
BarPossible3P1OffCommand=sleep,0.333;linear,0.366;diffusealpha,0
BarPossible3P2X=SCREEN_CENTER_X+160
BarPossible3P2Y=SCREEN_CENTER_Y+1
BarPossible3P2OnCommand=horizalign,left;rotationz,0;zoomx,0;sleep,0.4;linear,1.0;zoomx,1
BarPossible3P2OffCommand=sleep,0.333;linear,0.366;diffusealpha,0
#---#
BarPossible4P1X=SCREEN_CENTER_X-160
BarPossible4P1Y=SCREEN_CENTER_Y+25
BarPossible4P1OnCommand=horizalign,left;rotationz,180;zoomx,0;sleep,1.0;linear,1.0;zoomx,1
BarPossible4P1OffCommand=sleep,0.333;linear,0.366;diffusealpha,0
BarPossible4P2X=SCREEN_CENTER_X+160
BarPossible4P2Y=SCREEN_CENTER_Y+25
BarPossible4P2OnCommand=horizalign,left;rotationz,0;zoomx,0;sleep,1.0;linear,1.0;zoomx,1
BarPossible4P2OffCommand=sleep,0.333;linear,0.366;diffusealpha,0
#---#
BarPossible5P1X=SCREEN_CENTER_X-160
BarPossible5P1Y=SCREEN_CENTER_Y+49
BarPossible5P1OnCommand=horizalign,left;rotationz,180;zoomx,0;sleep,0.6;linear,1.0;zoomx,1
BarPossible5P1OffCommand=sleep,0.333;linear,0.366;diffusealpha,0
BarPossible5P2X=SCREEN_CENTER_X+160
BarPossible5P2Y=SCREEN_CENTER_Y+49
BarPossible5P2OnCommand=horizalign,left;rotationz,0;zoomx,0;sleep,0.6;linear,1.0;zoomx,1
BarPossible5P2OffCommand=sleep,0.333;linear,0.366;diffusealpha,0
#--------#
BarActual1P1X=SCREEN_CENTER_X-160
BarActual1P1Y=SCREEN_CENTER_Y-47
BarActual1P1OnCommand=horizalign,left;rotationz,180;zoomx,0;sleep,0.2;linear,1.0;zoomx,1
BarActual1P1OffCommand=stopeffect;sleep,0.333;linear,0.366;diffusealpha,0
BarActual1P2X=SCREEN_CENTER_X+160
BarActual1P2Y=SCREEN_CENTER_Y-47
BarActual1P2OnCommand=horizalign,left;rotationz,0;zoomx,0;sleep,0.7;linear,1.0;zoomx,1
BarActual1P2OffCommand=stopeffect;sleep,0.333;linear,0.366;diffusealpha,0
#---#
BarActual2P1X=SCREEN_CENTER_X-160
BarActual2P1Y=SCREEN_CENTER_Y-23
BarActual2P1OnCommand=horizalign,left;rotationz,180;zoomx,0;sleep,0.8;linear,1.0;zoomx,1
BarActual2P1OffCommand=stopeffect;sleep,0.333;linear,0.366;diffusealpha,0
BarActual2P2X=SCREEN_CENTER_X+160
BarActual2P2Y=SCREEN_CENTER_Y-23
BarActual2P2OnCommand=horizalign,left;rotationz,0;zoomx,0;sleep,0.8;linear,1.0;zoomx,1
BarActual2P2OffCommand=stopeffect;sleep,0.333;linear,0.366;diffusealpha,0
#---#
BarActual3P1X=SCREEN_CENTER_X-160
BarActual3P1Y=SCREEN_CENTER_Y+1
BarActual3P1OnCommand=horizalign,left;rotationz,180;zoomx,0;sleep,0.9;linear,1.0;zoomx,1
BarActual3P1OffCommand=stopeffect;sleep,0.333;linear,0.366;diffusealpha,0
BarActual3P2X=SCREEN_CENTER_X+160
BarActual3P2Y=SCREEN_CENTER_Y+1
BarActual3P2OnCommand=horizalign,left;rotationz,0;zoomx,0;sleep,0.9;linear,1.0;zoomx,1
BarActual3P2OffCommand=stopeffect;sleep,0.333;linear,0.366;diffusealpha,0
#---#
BarActual4P1X=SCREEN_CENTER_X-160
BarActual4P1Y=SCREEN_CENTER_Y+25
BarActual4P1OnCommand=horizalign,left;rotationz,180;zoomx,0;sleep,1.0;linear,1.0;zoomx,1
BarActual4P1OffCommand=stopeffect;sleep,0.333;linear,0.366;diffusealpha,0
BarActual4P2X=SCREEN_CENTER_X+160
BarActual4P2Y=SCREEN_CENTER_Y+25
BarActual4P2OnCommand=horizalign,left;rotationz,0;zoomx,0;sleep,1.0;linear,1.0;zoomx,1
BarActual4P2OffCommand=stopeffect;sleep,0.333;linear,0.366;diffusealpha,0
#---#
BarActual5P1X=SCREEN_CENTER_X-160
BarActual5P1Y=SCREEN_CENTER_Y+49
BarActual5P1OnCommand=horizalign,left;rotationz,180;zoomx,0;sleep,1.1;linear,1.0;zoomx,1
BarActual5P1OffCommand=stopeffect;sleep,0.333;linear,0.366;diffusealpha,0
BarActual5P2X=SCREEN_CENTER_X+160
BarActual5P2Y=SCREEN_CENTER_Y+49
BarActual5P2OnCommand=horizalign,left;rotationz,0;zoomx,0;sleep,1.1;linear,1.0;zoomx,1
BarActual5P2OffCommand=stopeffect;sleep,0.333;linear,0.366;diffusealpha,0

ShowMachineRecord=true
MachineRecordP1X=SCREEN_CENTER_X-150
MachineRecordP1Y=SCREEN_CENTER_Y+96
MachineRecordP1OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
MachineRecordP1OffCommand=linear,0.7;diffusealpha,0

MachineRecordP2X=SCREEN_CENTER_X+150
MachineRecordP2Y=SCREEN_CENTER_Y+96
MachineRecordP2OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
MachineRecordP2OffCommand=linear,0.7;diffusealpha,0

ShowPersonalRecord=true
PersonalRecordP1X=SCREEN_CENTER_X-150
PersonalRecordP1Y=SCREEN_CENTER_Y+96
PersonalRecordP1OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PersonalRecordP1OffCommand=linear,0.7;diffusealpha,0

PersonalRecordP2X=SCREEN_CENTER_X+150
PersonalRecordP2Y=SCREEN_CENTER_Y+96
PersonalRecordP2OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PersonalRecordP2OffCommand=linear,0.7;diffusealpha,0
----------------------------------------
# only used in normal mode
ShowTryExtraStage=true
TryExtraStageX=SCREEN_CENTER_X
TryExtraStageY=SCREEN_CENTER_Y+165
TryExtraStageOnCommand=addx,482;sleep,1.023;decelerate,0.520;addx,-482;glowshift;effectperiod,0.4;effectcolor1,0,0,0,0;effectcolor2,0,0,0,0.3
TryExtraStageOffCommand=sleep,0.750;diffusealpha,0

# used in two of three course mode evals (and extra stage)
ShowTimeArea=false
TimeLabelX=SCREEN_CENTER_X
TimeLabelY=SCREEN_CENTER_Y+115
TimeLabelOnCommand=addy,138;sleep,0.866;decelerate,0.116;addy,-138
TimeLabelOffCommand=sleep,0.016;accelerate,0.116;addy,138
#--#
TimeNumberP1X=SCREEN_CENTER_X-160
TimeNumberP1Y=SCREEN_CENTER_Y+140
TimeNumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);addx,-SCREEN_CENTER_X;sleep,0.8;decelerate,0.3;addx,SCREEN_CENTER_X
TimeNumberP1OffCommand=sleep,0.0;accelerate,0.3;addx,-SCREEN_CENTER_X
TimeNumberP2X=SCREEN_CENTER_X+160
TimeNumberP2Y=SCREEN_CENTER_Y+140
TimeNumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);addx,SCREEN_CENTER_X;sleep,0.8;decelerate,0.3;addx,-SCREEN_CENTER_X
TimeNumberP2OffCommand=sleep,0.0;accelerate,0.3;addx,SCREEN_CENTER_X

ShowPointsArea=false
PercentFrameP1X=SCREEN_CENTER_X-224
PercentFrameP1Y=SCREEN_CENTER_Y-130
PercentFrameP1OnCommand=addx,-SCREEN_CENTER_X;sleep,0.0;decelerate,0.3;addx,SCREEN_CENTER_X
PercentFrameP1OffCommand=sleep,0.8;accelerate,0.3;addx,-SCREEN_CENTER_X
PercentFrameP2X=SCREEN_CENTER_X+224
PercentFrameP2Y=SCREEN_CENTER_Y-130
PercentFrameP2OnCommand=addx,SCREEN_CENTER_X;sleep,0.0;decelerate,0.3;addx,-SCREEN_CENTER_X
PercentFrameP2OffCommand=sleep,0.8;accelerate,0.3;addx,SCREEN_CENTER_X

PercentP1X=SCREEN_CENTER_X-208
PercentP1Y=SCREEN_CENTER_Y-105
PercentP1OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PercentP1OffCommand=sleep,0.8;accelerate,0.3;addx,-SCREEN_CENTER_X
PercentP2X=SCREEN_CENTER_X+240
PercentP2Y=SCREEN_CENTER_Y-105
PercentP2OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PercentP2OffCommand=sleep,0.8;accelerate,0.3;addx,SCREEN_CENTER_X

## used in all three course mode evals; putting metrics here
ShowSurvivedArea=false
SurvivedFrameP1X=SCREEN_CENTER_X-200
SurvivedFrameP1Y=SCREEN_CENTER_Y+16
SurvivedFrameP1OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
SurvivedFrameP1OffCommand=linear,0.7;diffusealpha,0
SurvivedFrameP2X=SCREEN_CENTER_X+200
SurvivedFrameP2Y=SCREEN_CENTER_Y+16
SurvivedFrameP2OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
SurvivedFrameP2OffCommand=linear,0.7;diffusealpha,0

SurvivedNumberP1X=SCREEN_CENTER_X-224
SurvivedNumberP1Y=SCREEN_CENTER_Y-20
SurvivedNumberP1OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
SurvivedNumberP1OffCommand=linear,0.7;diffusealpha,0
SurvivedNumberP2X=SCREEN_CENTER_X+220
SurvivedNumberP2Y=SCREEN_CENTER_Y-20
SurvivedNumberP2OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
SurvivedNumberP2OffCommand=linear,0.7;diffusealpha,0

# Song options
SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_CENTER_Y-188
SongOptionsOnCommand=draworder,99;shadowlength,1;zoomy,0;linear,0.5;zoom,0.5
SongOptionsOffCommand=linear,0.5;zoomy,0

#=======================#
[ScreenEvaluationNormal]
ShowRecordDisplays=true

ShowMachineRecord=true
MachineRecordP1X=SCREEN_CENTER_X-150
MachineRecordP1Y=SCREEN_CENTER_Y+96
MachineRecordP1OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
MachineRecordP1OffCommand=linear,0.7;diffusealpha,0
MachineRecordP2X=SCREEN_CENTER_X+150
MachineRecordP2Y=SCREEN_CENTER_Y+96
MachineRecordP2OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
MachineRecordP2OffCommand=linear,0.7;diffusealpha,0

ShowPersonalRecord=true
PersonalRecordP1X=SCREEN_CENTER_X-150
PersonalRecordP1Y=SCREEN_CENTER_Y+96
PersonalRecordP1OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PersonalRecordP1OffCommand=linear,0.7;diffusealpha,0
PersonalRecordP2X=SCREEN_CENTER_X+150
PersonalRecordP2Y=SCREEN_CENTER_Y+96
PersonalRecordP2OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PersonalRecordP2OffCommand=linear,0.7;diffusealpha,0
[ScreenEvaluationRave]
Fallback="ScreenEvaluation"
ShowStyleIcon=true
ShowJudgmentLineMaxCombo=false
ShowBonusArea=false
ShowRecordDisplays=false
ShowTryExtraStage=false

# I can't stop raving
ShowWinArea=true

WinFrameP1X=SCREEN_CENTER_X-224
WinFrameP1Y=SCREEN_CENTER_Y+16
WinFrameP1OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
WinFrameP1OffCommand=linear,0.7;diffusealpha,0
WinFrameP2X=SCREEN_CENTER_X+224
WinFrameP2Y=SCREEN_CENTER_Y+16
WinFrameP2OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
WinFrameP2OffCommand=linear,0.7;diffusealpha,0

WinP1X=SCREEN_CENTER_X-224
WinP1Y=SCREEN_CENTER_Y+16
WinP1OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
WinP1OffCommand=linear,0.7;diffusealpha,0
WinP2X=SCREEN_CENTER_X+224
WinP2Y=SCREEN_CENTER_Y+16
WinP2OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
WinP2OffCommand=linear,0.7;diffusealpha,0

#=======================#
[ScreenEvaluationNonstop]
Fallback="ScreenEvaluation"
NextScreen="ScreenNameEntry"

ShowStyleIcon=true
ShowStageDisplay=false
ShowJudgmentLineMaxCombo=false
ShowBonusArea=false
ShowTryExtraStage=false

ShowSurvivedArea=true

#=======================#
# used for Oni and Endless
[ScreenEvaluationOni]
Fallback="ScreenEvaluation"
NextScreen="ScreenNameEntry"

ShowStyleIcon=true
ShowStageDisplay=false
ShowJudgmentLineMaxCombo=false
ShowBonusArea=false
ShowScoreArea=false
ShowGradeArea=false
ShowTryExtraStage=false

ShowTimeArea=true

ShowSurvivedArea=true
SurvivedFrameP1X=SCREEN_CENTER_X-224
SurvivedFrameP1Y=SCREEN_CENTER_Y
SurvivedFrameP1OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
SurvivedFrameP1OffCommand=linear,0.7;diffusealpha,0
SurvivedFrameP2X=SCREEN_CENTER_X+224
SurvivedFrameP2Y=SCREEN_CENTER_Y
SurvivedFrameP2OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
SurvivedFrameP2OffCommand=linear,0.7;diffusealpha,0


ShowPointsArea=true

################################################################################
[ScreenEvaluationSummary]
Fallback="ScreenEvaluation"
NextScreen="ScreenNameEntry"

Summary=true
ShowStyleIcon=true
ShowStageDisplay=false
ShowDifficultyIcon=false
ShowTryExtraStage=true

ShowScoreArea=true
ScoreLabelX=SCREEN_CENTER_X
ScoreLabelY=SCREEN_CENTER_Y+110
ScoreLabelOnCommand=addy,SCREEN_HEIGHT;sleep,0.8;decelerate,0.3;addy,-SCREEN_HEIGHT
ScoreLabelOffCommand=sleep,0.0;accelerate,0.3;addy,SCREEN_HEIGHT
#--#
ScoreNumberP1X=SCREEN_CENTER_X-160
ScoreNumberP1Y=SCREEN_CENTER_Y+110
ScoreNumberP1OnCommand=zoom,0.9;draworder,90;diffuse,PlayerColor(PLAYER_1);addx,-SCREEN_CENTER_X;sleep,0.8;decelerate,0.3;addx,SCREEN_CENTER_X
ScoreNumberP1OffCommand=sleep,0.0;accelerate,0.3;addx,-SCREEN_CENTER_X
ScoreNumberP2X=SCREEN_CENTER_X+160
ScoreNumberP2Y=SCREEN_CENTER_Y+110
ScoreNumberP2OnCommand=zoom,0.9;draworder,90;diffuse,PlayerColor(PLAYER_2);addx,SCREEN_CENTER_X;sleep,0.8;decelerate,0.3;addx,-SCREEN_CENTER_X
ScoreNumberP2OffCommand=sleep,0.0;accelerate,0.3;addx,SCREEN_CENTER_X

#--Banner--#

SmallBanner1X=SCREEN_CENTER_X-60
SmallBanner1Y=SCREEN_CENTER_Y-155
SmallBanner1OnCommand=visible,true;draworder,100;zoom,0.5;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
SmallBanner1OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT
#--#
SmallBanner2X=SCREEN_CENTER_X-30
SmallBanner2Y=SCREEN_CENTER_Y-145
SmallBanner2OnCommand=visible,true;draworder,80;zoom,0.5;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
SmallBanner2OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT
#--#
SmallBanner3X=SCREEN_CENTER_X
SmallBanner3Y=SCREEN_CENTER_Y-135
SmallBanner3OnCommand=visible,true;draworder,60;zoom,0.5;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
SmallBanner3OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT
#--#
SmallBanner4X=SCREEN_CENTER_X+30
SmallBanner4Y=SCREEN_CENTER_Y-125
SmallBanner4OnCommand=visible,true;draworder,40;zoom,0.5;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
SmallBanner4OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT
#--#
SmallBanner5X=SCREEN_CENTER_X+60
SmallBanner5Y=SCREEN_CENTER_Y-115
SmallBanner5OnCommand=visible,true;draworder,20;zoom,0.5;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
SmallBanner5OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT
#--#
################################################################################
[ScreenProfileLoad]
NextScreen="ScreenSelectDifficulty"
ShowHeader=true
ShowFooter=false
# profile saved on exiting summary screen
[ScreenProfileSaveSummary]
Fallback="ScreenProfileSave"
################################################################################
# you got a high score, good for you!
[ScreenNameEntry]
Class="ScreenNameEntry"
NextScreen="ScreenCredits"
#
TimerX=SCREEN_CENTER_X
TimerY=SCREEN_CENTER_Y-117
#
CategoryY=SCREEN_CENTER_Y+123
CategoryZoom=0.7
#
CharsZoomSmall=1.0
CharsZoomLarge=1.4
CharsSpacingY=43
CharsChoices="    ABCDEFGHIJKLMNOPQRSTUVWXYZ"
ScrollingCharsCommand=diffuse,#00FAAA
SelectedCharsCommand=diffuse,#00FAAA
#
ReceptorArrowsY=SCREEN_CENTER_Y-150
NumCharsToDrawBehind=1
NumCharsToDrawTotal=10
FakeBeatsPerSec=2.5
ForceTimer=true
TimerSeconds=60
TimerStealth=true
ShowStyleIcon=false
MaxRankingNameLength=4
#
PlayerP1OnePlayerOneSideX=SCREEN_CENTER_X-160
PlayerP2OnePlayerOneSideX=SCREEN_CENTER_X+160
PlayerP1TwoPlayersTwoSidesX=SCREEN_CENTER_X-160
PlayerP2TwoPlayersTwoSidesX=SCREEN_CENTER_X+160
PlayerP1OnePlayerTwoSidesX=SCREEN_CENTER_X
PlayerP2OnePlayerTwoSidesX=SCREEN_CENTER_X

[ScreenMusicScroll]
Fallback="ScreenAttract"
NextScreen="ScreenMusicScroll"
PrevScreen="ScreenRanking"

[ScreenUnlock]
Fallback="ScreenAttract"
NextScreen="ScreenMemoryCard"
PrevScreen="ScreenMusicScroll"

[ScreenCredits]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenGameOver"
TimerSeconds=34.7
PlayMusic=true
StopMusicOnBack=true
ShowCoinsAndCredits=true
ResetGameState=false
################################################################################
[ScreenGameOver]
TimerSeconds=5
ForceTimer=true
TimerStealth=true
################################################################################
[ScreenSelectGame2]
Fallback="ScreenSelectGame"
NextScreen=Branch.TitleMenu()
PrevScreen=Branch.TitleMenu()
ShowHelp=true
ShowFooter=false
################################################################################
[ScreenJukeboxMenu]
ShowFooter=true

[ScreenInformation]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen=Branch.TitleMenu()
NextScreen=Branch.InformationPage()
ShowCreditDisplay=false

ShowHeader=true
ShowFooter=true
ShowStyleIcon=false
MemoryCardIcons=false
TimerSeconds=-1

# 1/2 mk2ultra
ChoiceNames="1,2"
DefaultChoice="1"
Choice1="name,Up"
Choice2="name,Down"

OptionOrderUp="1:2,2:1"
OptionOrderDown="1:2,2:1"
OptionOrderLeft="1:1,2:2"
OptionOrderRight="2:2,2:2"

[ScreenInformationSubPage]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
NextScreen="ScreenInformation"
PrevScreen="ScreenInformation"
AllowStartToSkip=true
ShowCreditDisplay=false

ShowHeader=true
ShowFooter=true
ShowStyleIcon=false
MemoryCardIcons=false

ForceTimer=false
TimerStealth=true
TimerSeconds=-1

# 1/2 mk2ultra
ChoiceNames="1,2"
DefaultChoice="1"
Choice1="name,Left"
Choice2="name,Right"

OptionOrderUp="1:1,2:2"
OptionOrderDown="2:2,2:2"
OptionOrderLeft="1:2,2:1"
OptionOrderRight="1:2,2:1"

[ScreenThemeVersionInfo]
Fallback="ScreenInformationSubPage"

[ScreenModelTest]
Fallback="ScreenInformationSubPage"
################################################################################
[ScreenOptionsService]
ShowFooter=true
ShowHelp=true

LineNames="Advanced,Appearance,Arcade,Sync,KeyConfig,GraphicSound,Input,Network,GameType,Theme,Profiles,Reload,SystemTheme,TestInput,UI,Credits"
LineTheme="gamecommand;screen,ScreenOptionsTheme;name,Theme Options"
LineSystemTheme="gamecommand;screen,ScreenSystemTheme;name,SystemTheme"

NumRowsShown=9
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y((SCREEN_CENTER_Y-175)+(40*offsetFromCenter)) \
end

ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_BOTTOM-75
ExplanationTogetherOnCommand=shadowlength,0;zoom,0.5;wrapwidthpixels,1000;cropright,1;linear,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening

[OptionRowService]
TitleX=SCREEN_CENTER_X-151
TitleY=
FrameX=SCREEN_CENTER_X-171
FrameY=
TitleOnCommand=halign,0;shadowlength,1;maxwidth,600;zoom,1
TitleGainFocusCommand=diffuse,color("1,1,1,1");
TitleLoseFocusCommand=stopeffect;diffuse,color("0.375,0.5,0,1")

FrameGainFocusCommand=diffuse,color("1,1,1,1")
FrameLoseFocusCommand=diffuse,color("0.375,0.5,0,1")

################################################################################
[ScreenOptionsServiceChild]
ShowFooter=false
ShowHelp=true
WaitForChildrenBeforeTweeningOut=true

NumRowsShown=9
SeparateExitRow=false

ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_BOTTOM-75
ExplanationTogetherOnCommand=shadowlength,0;zoom,0.45;wrapwidthpixels,1300;cropright,1;linear,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening
##=======================##
[ScreenSelectGame]
ShowFooter=false
ShowHelp=true
##=======================##
[ScreenMapControllers]
# please stop doing this.
# I know people suck at mapping their keys, but this is also very annoying.
ScreenOnCommand=
##=======================##
[ScreenOptionsManageProfiles]
ShowFooter=true
ShowHelp=true
##=======================##
[ScreenOptionsOther]
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-152+44*offsetFromCenter) end

################################################################################
[ScreenEditMenu]
ShowFooter=false

[EditMenu]
Label1X=SCREEN_CENTER_X-280
Label2X=SCREEN_CENTER_X-280
Label3X=SCREEN_CENTER_X-280
Label4X=SCREEN_CENTER_X-280
Label5X=SCREEN_CENTER_X-280
Label6X=SCREEN_CENTER_X-280
Label7X=SCREEN_CENTER_X-280

Label1OnCommand=shadowlength,1;zoom,0.75;halign,0
Label2OnCommand=shadowlength,1;zoom,0.75;halign,0
Label3OnCommand=shadowlength,1;zoom,0.75;halign,0
Label4OnCommand=shadowlength,1;zoom,0.75;halign,0
Label5OnCommand=shadowlength,1;zoom,0.75;halign,0
Label6OnCommand=shadowlength,1;zoom,0.75;halign,0
Label7OnCommand=shadowlength,1;zoom,0.75;halign,0
################################################################################
[ScreenEdit]
EditHelpX=SCREEN_CENTER_X-316
InfoX=SCREEN_CENTER_X+316
InfoOnCommand=halign,1;valign,0;zoom,0.5;shadowlength,1
###############################################################################
